(function(t){function e(e){for(var n,s,o=e[0],l=e[1],u=e[2],d=0,m=[];d<o.length;d++)s=o[d],i[s]&&m.push(i[s][0]),i[s]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);c&&c(e);while(m.length)m.shift()();return r.push.apply(r,u||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],n=!0,o=1;o<a.length;o++){var l=a[o];0!==i[l]&&(n=!1)}n&&(r.splice(e--,1),t=s(s.s=a[0]))}return t}var n={},i={1:0},r=[];function s(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=n,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(a,n,function(e){return t[e]}.bind(null,n));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var c=l;r.push([21,0]),a()})({"+ZTo":function(t,e,a){"use strict";var n=a("d2EG"),i=a.n(n);i.a},"009G":function(t,e,a){},"0OYW":function(t,e,a){},"1NkQ":function(t,e,a){t.exports=a.p+"img/applaudable.13711dfb.svg"},21:function(t,e,a){t.exports=a("Vtdi")},"3Nvx":function(t,e,a){"use strict";var n=a("LACi"),i=a.n(n);i.a},"3Tbe":function(t,e,a){},"5Fzi":function(t,e,a){},"82jk":function(t,e,a){t.exports=a.p+"img/crowd.72b4d4e5.jpg"},"8Wbp":function(t,e,a){"use strict";var n=a("ehxN"),i=a.n(n);i.a},A2P3:function(t,e,a){},BsrL:function(t,e,a){},C2vA:function(t,e,a){},EF9F:function(t,e,a){"use strict";var n=a("GAWt"),i=a.n(n);i.a},GAWt:function(t,e,a){},JOCX:function(t,e,a){t.exports=a.p+"img/applaudable_logo.153af2a2.svg"},JQ6V:function(t,e,a){"use strict";var n=a("u0jo"),i=a.n(n);i.a},KiDX:function(t,e,a){"use strict";var n=a("jKQn"),i=a.n(n);i.a},Kp4E:function(t,e,a){"use strict";var n=a("3Tbe"),i=a.n(n);i.a},Kq0t:function(t,e,a){},"L9/H":function(t,e,a){"use strict";var n=a("biB1"),i=a.n(n);i.a},LACi:function(t,e,a){},MFI6:function(t){t.exports={user:"tsengsational",uid:"sl3kj0u82je",title:"Heavenly Kingdom",hide_title:!1,subtitle:"A musical tragedy",image:"https://i.pinimg.com/736x/dc/83/7e/dc837eb2b9e3c874e7765bae59f98540--chinese-painting-chinese-art.jpg",organization:{name:"Bitten Peach",about:"sed elementum tempus egestas sed sed risus pretium quam vulputate dignissim suspendisse in est ante in nibh mauris cursus mattis molestie a iaculis at erat pellentesque adipiscing commodo elit at imperdiet dui accumsan sit amet nulla facilisi morbi tempus iaculis urna id volutpat lacus laoreet non curabitur gravida arcu ac tortor dignissim convallis aenean et tortor at risus viverra adipiscing at in tellus integer feugiat scelerisque varius morbi enim nunc faucibus a pellentesque sit amet porttitor eget dolor morbi non arcu risus quis varius quam quisque id diam vel quam elementum pulvinar etiam non quam lacus suspendisse faucibus interdum posuere",image:"https://static.tumblr.com/afbf9bcd70aebaf251a37a703bf3be0b/c8wydnl/Akrn3a8ic/tumblr_static_bitten-peach.png",staff:[{name:"Tessa Tester",role:"Artistic Director"},{name:"Tito Tester",role:"Managing Director"},{name:"Tina Testero",role:"Director of Development"},{name:"Troy Teng",role:"Director of Marketing"}],funders:{title_text:"Thank you to these donors",text:"Feugiat scelerisque varius morbi enim nunc faucibus a pellentesque sit amet porttitor eget dolor morbi non arcu risus quis varius quam quisque id diam vel quam elementum pulvinar etiam non quam lacus suspendisse faucibus interdum posuere.",institutional:[{name:"Doris Duke Charitable Foundation",amount_donated:5e5},{name:"New York State Council on the Arts",amount_donated:5e4},{name:"New York City Department of Cultural Affairs",amount_donated:15e3},{name:"American Airlines Foundation",amount_donated:2e4}],individual:[{name:"John and John Johnson",amount_donated:500},{name:"Eli and Ellie Ellers",amount_donated:200},{name:"Ferdinand Franz",amount_donated:1500}]}},credits:{creative:[{name:"Jason Tseng",role:"Book",credited_role:"book by",featured:!0,bio:"sed elementum tempus egestas sed sed risus pretium quam vulputate dignissim suspendisse in est ante in nibh mauris cursus mattis molestie a iaculis at erat pellentesque adipiscing commodo elit at imperdiet dui accumsan sit amet nulla facilisi morbi tempus iaculis urna id volutpat lacus laoreet non curabitur gravida arcu ac tortor dignissim convallis aenean et tortor at risus viverra adipiscing at in tellus integer feugiat scelerisque varius morbi enim nunc faucibus a pellentesque sit amet porttitor eget dolor morbi non arcu risus quis varius quam quisque id diam vel quam elementum pulvinar etiam non quam lacus suspendisse faucibus interdum posuere",image:"https://static1.squarespace.com/static/574549d97da24fdfe9e2eba2/t/5745fd94b6aa6046fe0ca9bf/1464204694145/jason+headshot.png?format=500w",link:"https://www.jasontseng.com"},{name:"Rick Burkhardt",role:"Composer & Lyricist",credited_role:"music and lyrics by",featured:!0,bio:"sed elementum tempus egestas sed sed risus pretium quam vulputate dignissim suspendisse in est ante in nibh mauris cursus mattis molestie a iaculis at erat pellentesque adipiscing commodo elit at imperdiet dui accumsan sit amet nulla facilisi morbi tempus iaculis urna id volutpat lacus laoreet non curabitur gravida arcu ac tortor dignissim convallis aenean et tortor at risus viverra adipiscing at in tellus integer feugiat scelerisque varius morbi enim nunc faucibus a pellentesque sit amet porttitor eget dolor morbi non arcu risus quis varius quam quisque id diam vel quam elementum pulvinar etiam non quam lacus suspendisse faucibus interdum posuere",link:"http://princemyshkins.com/rickburkhardt2.html",image:"http://princemyshkins.com/rickriver329.JPG"},{name:"Peter Kuo",role:"Director",credited_role:"directed by",featured:!0,bio:"sed elementum tempus egestas sed sed risus pretium quam vulputate dignissim suspendisse in est ante in nibh mauris cursus mattis molestie a iaculis at erat pellentesque adipiscing commodo elit at imperdiet dui accumsan sit amet nulla facilisi morbi tempus iaculis urna id volutpat lacus laoreet non curabitur gravida arcu ac tortor dignissim convallis aenean et tortor at risus viverra adipiscing at in tellus integer feugiat scelerisque varius morbi enim nunc faucibus a pellentesque sit amet porttitor eget dolor morbi non arcu risus quis varius quam quisque id diam vel quam elementum pulvinar etiam non quam lacus suspendisse faucibus interdum posuere",image:"https://2.bp.blogspot.com/-k_vs2-Dpufo/TiAF3kQElmI/AAAAAAAAAG4/wsavuKf3tM4/s320/_MCP6377.JPG",link:"http://www.peterjkuo.com"},{name:"William Ivey Long",role:"Costume Design",credited_role:"costumes by",featured:!1,bio:"sed elementum tempus egestas sed sed risus pretium quam vulputate dignissim suspendisse in est ante in nibh mauris cursus mattis molestie a iaculis at erat pellentesque adipiscing commodo elit at imperdiet dui accumsan sit amet nulla facilisi morbi tempus iaculis urna id volutpat lacus laoreet non curabitur gravida arcu ac tortor dignissim convallis aenean et tortor at risus viverra adipiscing at in tellus integer feugiat scelerisque varius morbi enim nunc faucibus a pellentesque sit amet porttitor eget dolor morbi non arcu risus quis varius quam quisque id diam vel quam elementum pulvinar etiam non quam lacus suspendisse faucibus interdum posuere"},{name:"Kia Rogers",role:"Lighting Design",credited_role:"lighting design by",featured:!1,bio:"sed elementum tempus egestas sed sed risus pretium quam vulputate dignissim suspendisse in est ante in nibh mauris cursus mattis molestie a iaculis at erat pellentesque adipiscing commodo elit at imperdiet dui accumsan sit amet nulla facilisi morbi tempus iaculis urna id volutpat lacus laoreet non curabitur gravida arcu ac tortor dignissim convallis aenean et tortor at risus viverra adipiscing at in tellus integer feugiat scelerisque varius morbi enim nunc faucibus a pellentesque sit amet porttitor eget dolor morbi non arcu risus quis varius quam quisque id diam vel quam elementum pulvinar etiam non quam lacus suspendisse faucibus interdum posuere",image:"https://www.krogersld.com/uploads/1/0/7/6/10767937/5330783.jpeg?337",link:"https://www.krogersld.com/"},{name:"Will Lowry",role:"Scenic Design",credited_role:"scenic design by",featured:!1,bio:"sed elementum tempus egestas sed sed risus pretium quam vulputate dignissim suspendisse in est ante in nibh mauris cursus mattis molestie a iaculis at erat pellentesque adipiscing commodo elit at imperdiet dui accumsan sit amet nulla facilisi morbi tempus iaculis urna id volutpat lacus laoreet non curabitur gravida arcu ac tortor dignissim convallis aenean et tortor at risus viverra adipiscing at in tellus integer feugiat scelerisque varius morbi enim nunc faucibus a pellentesque sit amet porttitor eget dolor morbi non arcu risus quis varius quam quisque id diam vel quam elementum pulvinar etiam non quam lacus suspendisse faucibus interdum posuere",image:"http://www.will-lowry.com/uploads/6/3/9/4/63942523/699453_orig.jpg",link:"http://www.will-lowry.com"},{name:"Jodi Witherell",role:"Stage Manager",credited_role:"Stage Manager",featured:!1,bio:"sed elementum tempus egestas sed sed risus pretium quam vulputate dignissim suspendisse in est ante in nibh mauris cursus mattis molestie a iaculis at erat pellentesque adipiscing commodo elit at imperdiet dui accumsan sit amet nulla facilisi morbi tempus iaculis urna id volutpat lacus laoreet non curabitur gravida arcu ac tortor dignissim convallis aenean et tortor at risus viverra adipiscing at in tellus integer feugiat scelerisque varius morbi enim nunc faucibus a pellentesque sit amet porttitor eget dolor morbi non arcu risus quis varius quam quisque id diam vel quam elementum pulvinar etiam non quam lacus suspendisse faucibus interdum posuere"}],cast:[{name:"Christian Dan Luu",role:"Hong Xiuquan",featured:!0,bio:"sed elementum tempus egestas sed sed risus pretium quam vulputate dignissim suspendisse in est ante in nibh mauris cursus mattis molestie a iaculis at erat pellentesque adipiscing commodo elit at imperdiet dui accumsan sit amet nulla facilisi morbi tempus iaculis urna id volutpat lacus laoreet non curabitur gravida arcu ac tortor dignissim convallis aenean et tortor at risus viverra adipiscing at in tellus integer feugiat scelerisque varius morbi enim nunc faucibus a pellentesque sit amet porttitor eget dolor morbi non arcu risus quis varius quam quisque id diam vel quam elementum pulvinar etiam non quam lacus suspendisse faucibus interdum posuere",image:"https://img1.wsimg.com/blobby/go/1fb34769-6472-4e56-834c-7649a90c0b32/downloads/1btphit3e_50312.jpg",link:"http://www.christian-luu.com/"},{name:"Ben Langhorst",role:"Hong Xiuquan",featured:!0,bio:"sed elementum tempus egestas sed sed risus pretium quam vulputate dignissim suspendisse in est ante in nibh mauris cursus mattis molestie a iaculis at erat pellentesque adipiscing commodo elit at imperdiet dui accumsan sit amet nulla facilisi morbi tempus iaculis urna id volutpat lacus laoreet non curabitur gravida arcu ac tortor dignissim convallis aenean et tortor at risus viverra adipiscing at in tellus integer feugiat scelerisque varius morbi enim nunc faucibus a pellentesque sit amet porttitor eget dolor morbi non arcu risus quis varius quam quisque id diam vel quam elementum pulvinar etiam non quam lacus suspendisse faucibus interdum posuere",image:"http://pipelinetheatre.org/wp-content/uploads/2016/12/Ben-Langhorst-Flannel-Profile-Pic-683x1024.jpg",link:"http://www.benlanghorst.com/"},{name:"Ben Bartels",role:"Liang",featured:!0,bio:"sed elementum tempus egestas sed sed risus pretium quam vulputate dignissim suspendisse in est ante in nibh mauris cursus mattis molestie a iaculis at erat pellentesque adipiscing commodo elit at imperdiet dui accumsan sit amet nulla facilisi morbi tempus iaculis urna id volutpat lacus laoreet non curabitur gravida arcu ac tortor dignissim convallis aenean et tortor at risus viverra adipiscing at in tellus integer feugiat scelerisque varius morbi enim nunc faucibus a pellentesque sit amet porttitor eget dolor morbi non arcu risus quis varius quam quisque id diam vel quam elementum pulvinar etiam non quam lacus suspendisse faucibus interdum posuere",image:"https://cdn-images-1.medium.com/max/1600/0*O4Intol__gk-s7Ml.jpg",link:"https://www.amazon.com/Found-Ben-Bartels/dp/B079HCRHDQ"},{name:"David Kim",role:"Long Furong",featured:!1,bio:"sed elementum tempus egestas sed sed risus pretium quam vulputate dignissim suspendisse in est ante in nibh mauris cursus mattis molestie a iaculis at erat pellentesque adipiscing commodo elit at imperdiet dui accumsan sit amet nulla facilisi morbi tempus iaculis urna id volutpat lacus laoreet non curabitur gravida arcu ac tortor dignissim convallis aenean et tortor at risus viverra adipiscing at in tellus integer feugiat scelerisque varius morbi enim nunc faucibus a pellentesque sit amet porttitor eget dolor morbi non arcu risus quis varius quam quisque id diam vel quam elementum pulvinar etiam non quam lacus suspendisse faucibus interdum posuere",image:"https://www.nytw.org/content/uploads/2017/08/Brian-Kim.jpg",link:null},{name:"Rachael Hip-Flores",role:"Fang Shichuan",featured:!1,bio:"sed elementum tempus egestas sed sed risus pretium quam vulputate dignissim suspendisse in est ante in nibh mauris cursus mattis molestie a iaculis at erat pellentesque adipiscing commodo elit at imperdiet dui accumsan sit amet nulla facilisi morbi tempus iaculis urna id volutpat lacus laoreet non curabitur gravida arcu ac tortor dignissim convallis aenean et tortor at risus viverra adipiscing at in tellus integer feugiat scelerisque varius morbi enim nunc faucibus a pellentesque sit amet porttitor eget dolor morbi non arcu risus quis varius quam quisque id diam vel quam elementum pulvinar etiam non quam lacus suspendisse faucibus interdum posuere",image:"https://m.media-amazon.com/images/M/MV5BNjQwNzU0NzAxOF5BMl5BanBnXkFtZTcwMjMyMjM5Mw@@._V1_SY1000_CR0,0,798,1000_AL_.jpg",link:null},{name:"Rachael Hip-Flores",role:"Fang Shichuan",featured:!1,bio:"sed elementum tempus egestas sed sed risus pretium quam vulputate dignissim suspendisse in est ante in nibh mauris cursus mattis molestie a iaculis at erat pellentesque adipiscing commodo elit at imperdiet dui accumsan sit amet nulla facilisi morbi tempus iaculis urna id volutpat lacus laoreet non curabitur gravida arcu ac tortor dignissim convallis aenean et tortor at risus viverra adipiscing at in tellus integer feugiat scelerisque varius morbi enim nunc faucibus a pellentesque sit amet porttitor eget dolor morbi non arcu risus quis varius quam quisque id diam vel quam elementum pulvinar etiam non quam lacus suspendisse faucibus interdum posuere",image:"https://m.media-amazon.com/images/M/MV5BNjQwNzU0NzAxOF5BMl5BanBnXkFtZTcwMjMyMjM5Mw@@._V1_SY1000_CR0,0,798,1000_AL_.jpg",link:null},{name:"Rachael Hip-Flores",role:"Fang Shichuan",featured:!1,bio:"sed elementum tempus egestas sed sed risus pretium quam vulputate dignissim suspendisse in est ante in nibh mauris cursus mattis molestie a iaculis at erat pellentesque adipiscing commodo elit at imperdiet dui accumsan sit amet nulla facilisi morbi tempus iaculis urna id volutpat lacus laoreet non curabitur gravida arcu ac tortor dignissim convallis aenean et tortor at risus viverra adipiscing at in tellus integer feugiat scelerisque varius morbi enim nunc faucibus a pellentesque sit amet porttitor eget dolor morbi non arcu risus quis varius quam quisque id diam vel quam elementum pulvinar etiam non quam lacus suspendisse faucibus interdum posuere",image:"https://m.media-amazon.com/images/M/MV5BNjQwNzU0NzAxOF5BMl5BanBnXkFtZTcwMjMyMjM5Mw@@._V1_SY1000_CR0,0,798,1000_AL_.jpg",link:null},{name:"Rachael Hip-Flores",role:"Fang Shichuan",featured:!1,bio:"sed elementum tempus egestas sed sed risus pretium quam vulputate dignissim suspendisse in est ante in nibh mauris cursus mattis molestie a iaculis at erat pellentesque adipiscing commodo elit at imperdiet dui accumsan sit amet nulla facilisi morbi tempus iaculis urna id volutpat lacus laoreet non curabitur gravida arcu ac tortor dignissim convallis aenean et tortor at risus viverra adipiscing at in tellus integer feugiat scelerisque varius morbi enim nunc faucibus a pellentesque sit amet porttitor eget dolor morbi non arcu risus quis varius quam quisque id diam vel quam elementum pulvinar etiam non quam lacus suspendisse faucibus interdum posuere",image:"https://m.media-amazon.com/images/M/MV5BNjQwNzU0NzAxOF5BMl5BanBnXkFtZTcwMjMyMjM5Mw@@._V1_SY1000_CR0,0,798,1000_AL_.jpg",link:null},{name:"Rachael Hip-Flores",role:"Fang Shichuan",featured:!1,bio:"sed elementum tempus egestas sed sed risus pretium quam vulputate dignissim suspendisse in est ante in nibh mauris cursus mattis molestie a iaculis at erat pellentesque adipiscing commodo elit at imperdiet dui accumsan sit amet nulla facilisi morbi tempus iaculis urna id volutpat lacus laoreet non curabitur gravida arcu ac tortor dignissim convallis aenean et tortor at risus viverra adipiscing at in tellus integer feugiat scelerisque varius morbi enim nunc faucibus a pellentesque sit amet porttitor eget dolor morbi non arcu risus quis varius quam quisque id diam vel quam elementum pulvinar etiam non quam lacus suspendisse faucibus interdum posuere",image:"https://m.media-amazon.com/images/M/MV5BNjQwNzU0NzAxOF5BMl5BanBnXkFtZTcwMjMyMjM5Mw@@._V1_SY1000_CR0,0,798,1000_AL_.jpg",link:null}]}}},Meg4:function(t,e,a){var n={"./applaudable.svg":"1NkQ","./applaudable_logo.svg":"JOCX","./applaudable_type.svg":"XVHl"};function i(t){var e=r(t);return a(e)}function r(t){var e=n[t];if(!(e+1)){var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}return e}i.keys=function(){return Object.keys(n)},i.resolve=r,t.exports=i,i.id="Meg4"},V6Yw:function(t,e,a){"use strict";var n=a("BsrL"),i=a.n(n);i.a},Vosp:function(t,e,a){"use strict";var n=a("ex1n"),i=a.n(n);i.a},Vtdi:function(t,e,a){"use strict";a.r(e);a("VRzm");var n=a("Kw5r"),i=a("jE9Z"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login-container"},[a("div",{staticClass:"login",class:{hide:t.hideLogin}},[a("h3",[t._v("\n            Log in\n        ")]),a("form",{attrs:{action:""},on:{submit:t.logIn}},[a("input",{staticClass:"email",attrs:{type:"text",placeholder:"E-mail"}}),a("input",{staticClass:"password",attrs:{type:"password",placeholder:"Password"}}),a("button",[t._v("Log in")])]),a("a",{on:{click:t.toggleHide}},[t._v("Want to create an account?")]),a("img",{staticClass:"google",attrs:{src:"https://developers.google.com/identity/images/btn_google_signin_dark_normal_web.png",alt:"google-sign-in"},on:{click:t.googleSignIn}}),a("div",{staticClass:"alert",class:{show:t.loginAlert}},[t._v("\n            "+t._s(t.loginAlert)+"\n        ")])]),a("div",{staticClass:"sign-in",class:{hide:t.hideSignUp}},[a("h3",[t._v("\n            Sign up\n        ")]),a("form",{attrs:{action:""},on:{submit:t.signUp}},[a("input",{staticClass:"email",attrs:{type:"text",placeholder:"E-mail"}}),a("input",{staticClass:"first-name",attrs:{type:"text",placeholder:"First Name"}}),a("input",{staticClass:"password",attrs:{type:"password",placeholder:"Password"}}),a("button",[t._v("Sign up")])]),a("a",{on:{click:t.toggleHide}},[t._v("Already have an account?")]),a("div",{staticClass:"alert",class:{show:t.signUpAlert}},[t._v("\n            "+t._s(t.signUpAlert)+"\n        ")])])])},s=[],o=(a("ls82"),a("MECJ")),l=a("Wcq6"),u=a.n(l),c=(a("6nsN"),new u.a.auth.GoogleAuthProvider),d={data:function(){return{hideLogin:!1,loginAlert:null,signUpAlert:null}},computed:{hideSignUp:function(){return!this.hideLogin}},created:function(){!0===this.$route.query.signUp&&this.toggleHide()},methods:{signUp:function(t){var e=this;t.preventDefault();var a=t.target[0].value,n=t.target[1].value,i=t.target[2].value;console.log(a,n,i),qe.createUserWithEmailAndPassword(a,i).then(function(){console.log("updating:",n);var t=qe.currentUser;t.updateProfile({displayName:n}).then(function(){console.log("updated:",qe.currentUser.displayName);var t=qe.currentUser.uid,e=qe.currentUser.displayName,a=qe.currentUser.email;xe.collection("users").doc("".concat(t)).set({displayName:e,email:a}).then(function(){console.log("saved to database!")}).catch(function(t){var e=t.code,a=t.message;console.log(e,a)})}).catch(function(t){var e=t.code,a=t.message;console.log(e,a)})}).catch(function(t){var a=t.code,n=t.message;e.signUpAlert=a+": "+n})},logIn:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(e){var a,n,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.target[0].value,n=e.target[1].value,t.next=4,qe.signInWithEmailAndPassword(a,n);case 4:t.sent,i=null,i=this.$route.query.redirect?this.$route.query.redirect:"/dashboard",this.$router.push(i);case 8:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),googleSignIn:function(){qe.signInWithPopup(c).then(function(t){var e=t.credential.accessToken,a=t.user;console.log(e,a)}).catch(function(t){var e=t.code,a=t.message,n=t.email,i=t.credential;console.log(e,a,n,i)})},toggleHide:function(){this.hideLogin=!this.hideLogin}}},m=d,p=(a("X1dE"),a("KHd+")),g=Object(p["a"])(m,r,s,!1,null,null,null),h=g.exports,f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("div",{staticClass:"hero-container"},[a("div",{staticClass:"hero",style:t.heroStyle}),a("div",{staticClass:"hero-content"},[a("h1",[t._v("Never printing a program again? Bravo.")]),a("h3",[t._v("Easy mobile-optimized programs for any event")]),a("button",{on:{click:t.handleSignUpClick}},[t._v("Sign Up")]),a("button",{on:{click:function(e){return e.preventDefault(),t.handleTestClick(e)}}},[t._v("Live Preview")])])]),a("div",{staticClass:"feature-container flex"},t._l(t.features,function(e,n){return a("div",{key:n,staticClass:"feature"},[a("div",{staticClass:"icon"},[a("font-awesome-icon",{attrs:{icon:e.icon}})],1),a("h3",[t._v("\n                "+t._s(e.title)+"\n            ")]),a("p",{staticClass:"caption"},[t._v("\n                "+t._s(e.caption)+"\n            ")])])}))])},v=[],b=(a("Z2Ku"),a("L9s1"),{data:function(){return{features:[{title:"Go Paperless",caption:"Save on expensive print jobs and help the environment all in one step!",icon:"tree"},{title:"Engage Your Audience",caption:"The web doesn't have the same limitations as paper. Deepen your audience experience with special content.",icon:"thumbs-up"},{title:"Free to Use",caption:"Making a program is always free. Pro features accessible with a simple pricing plan.",icon:"coins"}]}},computed:{backgroundImage:function(){var t=null;return t="https://tsengsational.github.io/applaudable/#".includes("localhost")?"":"https://tsengsational.github.io/applaudable/#".substring(0,"https://tsengsational.github.io/applaudable/#".length-2),t+a("82jk")},heroStyle:function(){return{backgroundImage:"url(".concat(this.backgroundImage,")")}}},methods:{handleSignUpClick:function(){var t={name:"login",query:{signUp:!0}};this.$router.push(t)},handleTestClick:function(){var t={name:"program-test"};this.$router.push(t)}}}),C=b,_=(a("WWHb"),Object(p["a"])(C,f,v,!1,null,"5cacdb2f",null)),k=_.exports,y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"program"},[a("display-modal",{attrs:{modalCredit:t.modalCredit,"modal-open":t.modalOpen},on:{modalClose:t.toggleModal}}),a("div",{staticClass:"presenter"},[a("h3",[t._v("Presented by "+t._s(t.program.organization.name))])]),a("div",{staticClass:"art"},[a("img",{attrs:{src:t.prodImage}})]),a("div",{staticClass:"title",class:{hide:t.program.hide_title}},[a("h1",[t._v(t._s(t.program.title))]),a("h4",[t._v(t._s(t.program.subtitle))])]),a("div",{staticClass:"featured-creative flex"},t._l(t.featuredCreatives,function(e,n){return a("credit",{key:n,attrs:{credit:e,type:"credited_role"},on:{creditClick:t.handleCreditClick}})})),a("div",{staticClass:"regular-creative flex"},t._l(t.regularCreatives,function(e,n){return a("credit",{key:n,attrs:{credit:e,type:"credited_role"},on:{creditClick:t.handleCreditClick}})})),a("div",{staticClass:"cast"},[t._m(0),a("div",{staticClass:"featured-cast-container flex"},t._l(t.featuredCast,function(e,n){return a("credit",{key:n,attrs:{credit:e,type:"role"},on:{creditClick:t.handleCreditClick}})})),a("div",{staticClass:"regular-cast-container flex"},t._l(t.regularCast,function(e,n){return a("credit",{key:n,attrs:{credit:e,type:"role"},on:{creditClick:t.handleCreditClick}})}))]),a("div",{staticClass:"organization"},[a("h2",{staticClass:"line"},[t._v("About "+t._s(t.program.organization.name))]),a("img",{staticClass:"org-image",attrs:{src:t.program.organization.image,alt:""}}),a("p",{staticClass:"org-about"},[t._v("\n            "+t._s(t.program.organization.about)+"\n        ")]),a("div",{staticClass:"org-staff"},[a("h4",[t._v("Staff")]),a("div",{staticClass:"org-staff-container flex"},t._l(t.program.organization.staff,function(t,e){return a("credit",{key:e,attrs:{credit:t,type:"role"}})}))]),a("div",{staticClass:"funders"},[a("div",{staticClass:"institutional"},[a("h4",[t._v(t._s(t.program.organization.funders.title_text)+" ")]),a("ul",{staticClass:"inst-fund-container"},t._l(t.displayInstFunders,function(e,n){return a("li",{key:n},[t._v("\n                        "+t._s(e.name)+" - "),a("span",{staticClass:"donated-amount"},[t._v(t._s(t.parseDonation(e.amount_donated)))])])}))]),a("div",{staticClass:"individual"},[a("ul",{staticClass:"ind-fund-container"},t._l(t.displayIndFunders,function(e,n){return a("li",{key:n},[t._v("\n                        "+t._s(e.name)+" - "),a("span",{staticClass:"donated-amount"},[t._v(t._s(t.parseDonation(e.amount_donated)))])])}))])])]),a("div",{staticClass:"pre-load"},t._l(t.allCredits,function(t,e){return a("img",{key:e,attrs:{src:t.image}})}))],1)},w=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h2",{staticClass:"cast-title"},[a("span",{staticClass:"text line"},[t._v("Featuring")])])}],x=(a("f3/d"),a("Vd3H"),a("MFI6")),q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"credit",class:{featured:t.credit.featured},on:{click:function(e){t.$emit("creditClick",t.credit)},mouseenter:t.handleMouseEnter,mouseleave:t.handleMouseLeave}},[a("div",{staticClass:"credited-role"},[t._v("\n        "+t._s(t.displayRole)+"\n    ")]),a("div",{staticClass:"name"},[t._v("\n        "+t._s(t.credit.name)+"\n    ")]),t.showEditFormBtn?a("button",{staticClass:"edit-btn credit-btn",class:{show:t.showEditBtn},on:{click:t.handleEditClick}},[a("font-awesome-icon",{attrs:{icon:"edit"}})],1):t._e()])},U=[],F={props:["credit","type","editing","programId","creditType","editing"],data:function(){return{showEditBtn:!1}},computed:{displayRole:function(){return this.credit[this.type]},showEditFormBtn:function(){return"cast"===this.creditType||"creative"===this.creditType?this.editing:"staff"!==this.creditType&&void 0}},methods:{handleEditClick:function(t){t.stopPropagation();var e=this.credit.id;this.$router.push({name:"editCredit",params:{id:e,programId:this.programId,creditType:this.creditType}})},handleMouseEnter:function(){this.editing&&(this.showEditBtn=!0)},handleMouseLeave:function(){this.editing&&(this.showEditBtn=!1)}}},S=F,D=(a("wi7W"),Object(p["a"])(S,q,U,!1,null,null,null)),z=D.exports,O=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-container"},[a("div",{staticClass:"modal",class:{open:t.modalOpen}},[a("button",{staticClass:"modal-btn",on:{click:function(e){t.$emit("modalClose")}}},[t._v("X")]),a("div",{staticClass:"modal-image",class:{hide:t.hideImage},style:t.styleObject}),a("div",{staticClass:"modal-name"},[a("a",{attrs:{href:t.modalCredit.link}},[t._v(t._s(t.modalCredit.name))])]),a("div",{staticClass:"modal-role"},[t._v("\n            "+t._s(t.modalCredit.role)+"\n        ")]),a("div",{staticClass:"modal-bio",class:{expand:t.hideImage}},[t._v("\n            "+t._s(t.modalCredit.bio)+"\n        ")])]),a("div",{staticClass:"modal-background",class:{open:t.modalOpen}})])},A=[],I={props:["modalCredit","modalOpen"],data:function(){return{}},computed:{styleObject:function(){return{backgroundImage:"url(".concat(this.modalCredit.image,")")}},hideImage:function(){return null==this.modalCredit.image||this.modalCredit.image.length<4}}},E=I,M=(a("tr/0"),Object(p["a"])(E,O,A,!1,null,null,null)),P=M.exports,N={components:{Credit:z,DisplayModal:P},data:function(){return{program:{},modalCredit:{},modalOpen:!1}},created:function(){this.program=x},computed:{featuredCreatives:function(){return this.program.credits.creative.filter(function(t){return!0===t.featured})},regularCreatives:function(){return this.program.credits.creative.filter(function(t){return!1===t.featured})},featuredCast:function(){return this.program.credits.cast.filter(function(t){return!0===t.featured})},regularCast:function(){return this.program.credits.cast.filter(function(t){return!1===t.featured})},displayInstFunders:function(){return this.program.organization.funders.institutional.sort(function(t,e){return t.amount_donated<e.amount_donated?-1:t.amount_donated>e.amount_donated?1:0})},displayIndFunders:function(){return this.program.organization.funders.individual.sort(function(t,e){return t.amount_donated<e.amount_donated?-1:t.amount_donated>e.amount_donated?1:0})},allCredits:function(){return this.program.credits.creative.concat(this.program.credits.cast)},prodImage:function(){return null!==this.program.image?this.program.image:"#"}},methods:{parseDonation:function(t){return t.toLocaleString()},handleCreditClick:function(t){this.modalCredit=t,console.log(this.modalCredit.name),this.toggleModal()},toggleModal:function(){this.modalOpen=!this.modalOpen}}},$=N,T=(a("L9/H"),Object(p["a"])($,y,w,!1,null,null,null)),j=T.exports,B=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"program"},[a("display-modal",{attrs:{modalCredit:t.modalCredit,"modal-open":t.modalOpen},on:{modalClose:t.toggleModal}}),a("div",{staticClass:"presenter"},[a("h3",[t._v("Presented by "+t._s(t.organization.name))])]),a("div",{staticClass:"art"},[a("img",{attrs:{src:t.prodImage}})]),a("div",{staticClass:"title",class:{hide:t.program.hide_title}},[a("h1",[t._v(t._s(t.program.title))]),a("h4",[t._v(t._s(t.program.subtitle))])]),a("div",{staticClass:"featured-creative flex"},t._l(t.featuredCreatives,function(e,n){return a("credit",{key:n,attrs:{credit:e,creditType:"creative",type:"credited_role",editing:!1},on:{creditClick:t.handleCreditClick}})})),a("div",{staticClass:"regular-creative flex"},t._l(t.regularCreatives,function(e,n){return a("credit",{key:n,attrs:{credit:e,creditType:"creative",type:"credited_role",editing:!1},on:{creditClick:t.handleCreditClick}})})),a("div",{staticClass:"cast"},[t._m(0),a("div",{staticClass:"featured-cast-container flex"},t._l(t.featuredCast,function(e,n){return a("credit",{key:n,attrs:{credit:e,creditType:"cast",type:"role",editing:!1},on:{creditClick:t.handleCreditClick}})})),a("div",{staticClass:"regular-cast-container flex"},t._l(t.regularCast,function(e,n){return a("credit",{key:n,attrs:{credit:e,creditType:"cast",type:"role",editing:!1},on:{creditClick:t.handleCreditClick}})}))]),a("div",{staticClass:"organization"},[a("h2",{staticClass:"line"},[t._v("About "+t._s(t.organization.name))]),a("img",{staticClass:"org-image",attrs:{src:t.organization.image,alt:""}}),a("p",{staticClass:"org-about"},[t._v("\n            "+t._s(t.organization.about)+"\n        ")]),a("div",{staticClass:"org-staff"},[a("h4",[t._v("Staff")]),a("div",{staticClass:"org-staff-container flex"},t._l(t.staff,function(t,e){return a("credit",{key:e,attrs:{credit:t,creditType:"staff",editing:!1,type:"role"}})}))]),a("div",{staticClass:"funders"},[a("div",{staticClass:"institutional"},[a("h4",[t._v(t._s(t.organization.funders.title_text)+" ")]),a("ul",{staticClass:"inst-fund-container"},t._l(t.displayInstFunders,function(e,n){return a("li",{key:n},[t._v("\n                        "+t._s(e.name)+" - "),a("span",{staticClass:"donated-amount"},[t._v(t._s(t.parseDonation(e.amount_donated)))])])}))]),a("div",{staticClass:"individual"},[a("ul",{staticClass:"ind-fund-container"},t._l(t.displayIndFunders,function(e,n){return a("li",{key:n},[t._v("\n                        "+t._s(e.name)+" - "),a("span",{staticClass:"donated-amount"},[t._v(t._s(t.parseDonation(e.amount_donated)))])])}))])])]),a("div",{staticClass:"pre-load"},t._l(t.allCredits,function(t,e){return a("img",{key:e,attrs:{src:t.image}})}))],1)},L=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h2",{staticClass:"cast-title"},[a("span",{staticClass:"text line"},[t._v("Featuring")])])}],R=(a("rGqo"),{components:{Credit:z,DisplayModal:P},data:function(){return{program:{},modalCredit:{},modalOpen:!1,programId:null,creative:[],cast:[],organization:{funders:{text:"",title_text:""}},staff:[],institutional:[],individual:[]}},created:function(){this.programId=this.$route.params.id},firestore:function(){return{program:xe.collection("programs").doc(this.$route.params.id),creative:xe.collection("programs").doc(this.$route.params.id).collection("creative"),cast:xe.collection("programs").doc(this.$route.params.id).collection("cast")}},watch:{program:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(e,a){var n,i,r,s,o,l,u,c=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!e.org_id){t.next=23;break}return console.log("program loaded!"),n=e.uid,t.next=5,xe.collection("users").doc(n).collection("organizations").doc(e.org_id);case 5:return i=t.sent,t.next=8,i.get();case 8:return r=t.sent,s=r.data(),this.organization=s,t.next=13,i.collection("staff").get();case 13:return o=t.sent,o.forEach(function(t){var e=t.data();c.staff.push(e)}),t.next=17,i.collection("institutional").get();case 17:return l=t.sent,l.forEach(function(t){var e=t.data();c.institutional.push(e)}),t.next=21,i.collection("individual").get();case 21:u=t.sent,u.forEach(function(t){var e=t.data();c.individual.push(e)});case 23:case"end":return t.stop()}},t,this)}));return function(e,a){return t.apply(this,arguments)}}()},computed:{featuredCreatives:function(){if(this.creative.length>0){var t=this.creative.filter(function(t){return!0===t.featured});return t}return this.creative},regularCreatives:function(){if(this.creative.length>0)return this.creative.filter(function(t){return!1===t.featured})},featuredCast:function(){if(this.cast.length>0)return this.cast.filter(function(t){return!0===t.featured})},regularCast:function(){if(this.cast.length>0)return this.cast.filter(function(t){return!1===t.featured})},displayInstFunders:function(){return this.institutional.sort(function(t,e){return t.amount_donated<e.amount_donated?-1:t.amount_donated>e.amount_donated?1:0})},displayIndFunders:function(){return this.individual.sort(function(t,e){return t.amount_donated<e.amount_donated?-1:t.amount_donated>e.amount_donated?1:0})},allCredits:function(){return this.creative.concat(this.cast)},prodImage:function(){return null!==this.program.image?this.program.image:"#"}},methods:{parseDonation:function(t){return t.toLocaleString()},handleCreditClick:function(t){this.modalCredit=t,console.log(this.modalCredit.name),this.toggleModal()},toggleModal:function(){this.modalOpen=!this.modalOpen}}}),V=R,W=(a("janC"),Object(p["a"])(V,B,L,!1,null,null,null)),H=W.exports,J=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard"},[a("h1",[t._v("Welcome, "+t._s(t.user.displayName))]),a("div",{staticClass:"programs"},[a("h3",[t._v("Programs")]),a("div",{staticClass:"button-container"},[a("button",{staticClass:"add-new-program",on:{click:t.handleNewProgram}},[a("font-awesome-icon",{attrs:{icon:"plus-circle"}}),t._v(" New Program\n            ")],1)]),a("div",{staticClass:"programs-flex-container"},t._l(t.programs,function(e,n){return a("dash-program",{key:n,attrs:{user:t.user,program:e}})}))]),a("div",{staticClass:"organizations"},[a("h3",[t._v("Organizations")]),a("div",{staticClass:"button-container"},[a("button",{staticClass:"add-new-org",on:{click:t.handleNewOrg}},[a("font-awesome-icon",{attrs:{icon:"plus-circle"}}),t._v(" New Organization\n            ")],1)]),a("div",{staticClass:"orgs-container"},t._l(t.organizations,function(e,n){return a("dash-org",{key:n,staticClass:"organization",attrs:{user:t.user,organization:e}})}))])])},K=[],X=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"program-dash"},[a("div",{staticClass:"text",on:{click:t.handleViewClick}},[a("h3",[t._v("\n            "+t._s(t.program.title)+"\n        ")]),a("h5",[t._v("\n            "+t._s(t.program.subtitle)+"\n        ")])]),a("div",{staticClass:"image",style:t.imageStyle}),a("div",{staticClass:"button-container",class:{open:t.menuOpen}},[a("button",{staticClass:"menu-btn",on:{click:t.toggleMenuOpen}},[a("font-awesome-icon",{attrs:{icon:"ellipsis-v"}})],1),a("button",{staticClass:"view-btn",on:{click:t.handleLinkClick,mouseenter:t.handleLinkEnter,mouseleave:t.handleLinkLeave}},[a("font-awesome-icon",{attrs:{icon:"link"}}),a("input",{staticClass:"link",domProps:{value:t.url}}),a("div",{staticClass:"tooltip-container"},[a("div",{staticClass:"tooltip",class:{alert:t.alert}},[t._v("\n                    "+t._s(t.tooltip)+"\n                ")])])],1),a("button",{staticClass:"edit-btn",on:{click:t.handleEditClick}},[a("font-awesome-icon",{attrs:{icon:"edit"}})],1),a("button",{staticClass:"delete-btn",on:{click:t.handleDeleteClick}},[a("font-awesome-icon",{attrs:{icon:"trash-alt"}})],1)]),t.trashConfirm?a("div",{staticClass:"trash-modal-container",class:{open:t.trashOpen}},[a("div",{staticClass:"trash-modal-background"}),a("div",{staticClass:"trash-modal"},[a("button",{staticClass:"close-modal",on:{click:t.handleDeleteClose}},[a("font-awesome-icon",{attrs:{icon:"times"}})],1),a("span",{staticClass:"close-modal-text"},[t._v("\n                Are you sure?\n            ")]),a("button",{staticClass:"delete-btn",on:{click:t.handleDeleteSubmit}},[a("font-awesome-icon",{attrs:{icon:"trash-alt"}}),t._v("\n                DELETE\n            ")],1)])]):t._e()])},Y=[],Q=(a("pIFo"),{data:function(){return{menuOpen:!1,tooltip:"click to copy link",alert:!1,trashConfirm:!1,trashOpen:!1}},props:["program","user"],computed:{imageStyle:function(){return{backgroundImage:"url(".concat(this.program.image,")")}},url:function(){return"".concat("https://tsengsational.github.io/applaudable/#","/programs/").concat(this.program.id)}},methods:{handleEditClick:function(){var t={name:"editProgram",params:{id:this.program.id}};this.$router.push(t)},handleDeleteClick:function(){var t=this;this.trashConfirm=!0,setTimeout(function(){t.trashOpen=!0},100)},handleDeleteClose:function(){var t=this;this.trashOpen=!1,setTimeout(function(){t.trashConfirm=!1},600)},handleDeleteSubmit:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e,a,n,i,r,s,o,l,u;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=xe.collection("programs").doc(this.program.id),a=e.collection("creative"),n=Ue.ref(),i=xe.batch(),t.next=6,a.get();case 6:return r=t.sent,r.forEach(function(t){if(t.data.imagePath){var e=n.child(t.data.imagePath);e.delete()}i.delete(t)}),s=e.collection("cast"),t.next=11,s.get();case 11:o=t.sent,o.forEach(function(t){if(t.data.imagePath){var e=n.child(creative.data.imagePath);e.delete()}i.delete(t)}),this.program.image&&(l=this.program.image.substring(this.program.image.indexOf("images"),this.program.image.indexOf("?alt")).trim(),u=l.replace(/%2F/g,"/"),n.child(u).delete()),i.delete(e),i.commit().then(function(){console.log("batch committed")});case 16:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),handleLinkClick:function(t){var e=t.target.querySelector(".link");e.select(),document.execCommand("copy"),this.tooltip="url copied"},handleLinkEnter:function(){console.log("entering"),this.alert=!0},handleLinkLeave:function(){var t=this;console.log("leaving"),this.alert=!1,setTimeout(function(){t.tooltip="click to copy link"},300)},handleViewClick:function(){var t={name:"viewProgram",params:{id:this.program.id}};this.$router.push(t)},toggleMenuOpen:function(){return this.menuOpen=!this.menuOpen}}}),G=Q,Z=(a("8Wbp"),Object(p["a"])(G,X,Y,!1,null,"1d4a5c34",null)),tt=Z.exports,et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dash-org"},[a("span",[t._v("\n        "+t._s(t.organization.name)+"\n    ")]),a("div",{staticClass:"button-container",class:{open:t.menuOpen}},[a("button",{staticClass:"menu-btn",on:{click:t.toggleMenuOpen}},[a("font-awesome-icon",{attrs:{icon:"ellipsis-v"}})],1),a("button",{staticClass:"edit-btn",on:{click:t.handleEditClick}},[a("font-awesome-icon",{attrs:{icon:"edit"}})],1),a("button",{staticClass:"delete-btn",on:{click:t.handleDeleteClick}},[a("font-awesome-icon",{attrs:{icon:"trash-alt"}})],1)]),t.trashConfirm?a("div",{staticClass:"trash-modal-container",class:{open:t.trashOpen}},[a("div",{staticClass:"trash-modal-background"}),a("div",{staticClass:"trash-modal"},[a("button",{staticClass:"close-modal",on:{click:t.handleDeleteClose}},[a("font-awesome-icon",{attrs:{icon:"times"}})],1),a("span",{staticClass:"close-modal-text"},[t._v("\n                Are you sure?\n            ")]),a("button",{staticClass:"delete-btn",on:{click:t.handleDeleteSubmit}},[a("font-awesome-icon",{attrs:{icon:"trash-alt"}}),t._v("\n                DELETE\n            ")],1)])]):t._e()])},at=[],nt={data:function(){return{menuOpen:!1,trashConfirm:!1,trashOpen:!1}},props:["organization","user"],methods:{toggleMenuOpen:function(){return this.menuOpen=!this.menuOpen},handleDeleteClick:function(){var t=this;this.trashConfirm=!0,setTimeout(function(){t.trashOpen=!0},100)},handleDeleteClose:function(){var t=this;this.trashOpen=!1,setTimeout(function(){t.trashConfirm=!1},600)},handleDeleteSubmit:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e,a,n,i,r,s,o,l,u,c,d;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=db.collection("users").doc(this.user.uid).collection("organizations").doc(this.organization.id),a=e.collection("individual"),n=e.collection("institutional"),i=e.collection("staff"),r=storage.ref(),s=db.batch(),t.next=8,a.get();case 8:return o=t.sent,o.forEach(function(t){s.delete(t)}),t.next=12,n.get();case 12:return l=t.sent,l.forEach(function(t){s.delete(t)}),t.next=16,i.get();case 16:u=t.sent,u.forEach(function(t){s.delete(t)}),this.organization.image&&(c=this.organization.image.substring(this.organization.image.indexOf("images"),this.organization.image.indexOf("?alt")).trim(),d=c.replace(/%2F/g,"/"),r.child(d).delete()),s.delete(e),s.commit().then(function(){console.log("batch committed")});case 21:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),handleEditClick:function(){var t={name:"editOrg",params:{id:this.organization.id,uid:this.user.uid}};this.$router.push(t)}}},it=nt,rt=(a("Kp4E"),Object(p["a"])(it,et,at,!1,null,"d7075e12",null)),st=rt.exports,ot={data:function(){return{organizations:[],programs:[]}},props:["user"],components:{DashProgram:tt,DashOrg:st},firestore:function(){return{organizations:xe.collection("users").doc(this.user.uid).collection("organizations"),programs:xe.collection("programs").where("uid","==",this.user.uid)}},methods:{handleNewProgram:function(){var t={name:"newPrograms"};this.$router.push(t)},handleNewOrg:function(){var t={name:"newOrganizations"};this.$router.push(t)}}},lt=ot,ut=(a("Vosp"),Object(p["a"])(lt,J,K,!1,null,"0e9bf657",null)),ct=ut.exports,dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"org-form"},[a("h2",[t._v("Add Organization")]),a("form",{staticClass:"org"},[a("label",{attrs:{for:"name"}},[t._v("\n            Name:\n        ")]),a("input",{attrs:{type:"text",placeholder:"e.g. Something Productions",name:"name"},on:{change:t.handleChange}}),a("label",{staticClass:"about",attrs:{for:"about"}},[t._v("\n            About:\n        ")]),a("textarea",{attrs:{name:"about",placeholder:"e.g. Mission statement, general information, etc."},on:{change:t.handleChange}}),a("label",{attrs:{for:"image"}},[t._v("\n            Logo/Image\n        ")]),a("div",{staticClass:"image-upload-input-container",class:{hide:t.imageUploaded}},[a("input",{staticClass:"image-upload",attrs:{type:"file",name:"image"},on:{change:t.handleFileSelect}}),a("button",{staticClass:"image-upload-btn",class:{hide:t.hideUploadBtn},on:{click:function(e){return e.preventDefault(),t.handleUploadClick(e)}}},[t._v("upload")])]),a("div",{staticClass:"image-uploaded-container"},[a("span",{staticClass:"uploaded-filename",class:{hide:t.hideUploaded}},[t._v("\n                "+t._s(t.uploadedFilename)+"\n            ")]),a("button",{staticClass:"image-upload-cancel",class:{hide:t.hideUploaded},on:{click:function(e){return e.preventDefault(),t.handleUploadCancel(e)}}},[t._v("x")])])]),a("div",{staticClass:"staff-container"},[a("h4",[t._v("Staff")]),t._l(t.staffArr,function(e,n){return a("form",{key:n,staticClass:"staff"},[a("label",{attrs:{for:t.ArrName("staff","name",n)}},[t._v("\n                Name: \n            ")]),a("input",{attrs:{type:"text",name:t.ArrName("staff","name",n),placeholder:"Jane Doe"},on:{change:t.handleStaffChange}}),a("label",{attrs:{for:t.ArrName("staff","role",n)}},[t._v("\n                Role: \n            ")]),a("input",{attrs:{type:"text",name:t.ArrName("staff","role",n),placeholder:"Executive Director"},on:{change:t.handleStaffChange}})])}),a("div",{staticClass:"staff-controls"},[a("button",{staticClass:"add-staff",on:{click:function(e){t.handleStaffClick("add")}}},[a("span",[t._v("+")])]),a("button",{staticClass:"subtract-staff",on:{click:function(e){t.handleStaffClick("subtract")}}},[a("span",[t._v("-")])])])],2),a("div",{staticClass:"funder-container"},[a("form",{staticClass:"funder-info"},[a("h4",[t._v("Funders")]),a("label",{staticClass:"funder_title",attrs:{for:"funder_title"}},[t._v("Title text")]),a("input",{attrs:{type:"text",name:"funder_title",placeholder:"Thank you to these donors"},on:{change:t.handleChange}}),a("label",{staticClass:"funder_text",attrs:{for:"funderText"}},[t._v("Funder Text")]),a("textarea",{attrs:{name:"funder_text",placeholder:"e.g. We would like to thank the following donors..."},on:{change:t.handleChange}})]),a("div",{staticClass:"institutional"},[a("h5",[t._v("Institutional funders:")]),t._l(t.institutionalArr,function(e,n){return a("form",{key:n,staticClass:"funders"},[a("label",{attrs:{for:t.ArrName("institutional","name",n)}},[t._v("\n                    Name: \n                ")]),a("input",{attrs:{type:"text",name:t.ArrName("institutional","name",n),placeholder:"Doe Family Fund"},on:{change:t.handleFunderChange}}),a("label",{attrs:{for:t.ArrName("institutional","amount_donated",n)}},[t._v("\n                    Funding Level (no symbols e.g. $): \n                ")]),a("input",{attrs:{type:"number",name:t.ArrName("institutional","amount_donated",n),placeholder:"e.g. 100"},on:{change:t.handleFunderChange}})])}),a("div",{staticClass:"funder-controls"},[a("button",{staticClass:"add-staff",on:{click:function(e){e.preventDefault(),t.handleFunderClick("add","institution")}}},[a("span",[t._v("+")])]),a("button",{staticClass:"subtract-staff",on:{click:function(e){e.preventDefault(),t.handleFunderClick("subtract","institution")}}},[a("span",[t._v("-")])])])],2),a("div",{staticClass:"individual"},[a("h5",[t._v("Individual funders:")]),t._l(t.individualArr,function(e,n){return a("form",{key:n,staticClass:"funders"},[a("label",{attrs:{for:t.ArrName("individual","name",n)}},[t._v("\n                    Name: \n                ")]),a("input",{attrs:{type:"text",name:t.ArrName("individual","name",n),placeholder:"Doe Family Fund"},on:{change:t.handleFunderChange}}),a("label",{attrs:{for:t.ArrName("individual","amount_donated",n)}},[t._v("\n                    Amount Donated: \n                ")]),a("input",{attrs:{type:"number",name:t.ArrName("individual","amount_donated",n),placeholder:"e.g. 100"},on:{change:t.handleFunderChange}})])}),a("div",{staticClass:"funder-controls"},[a("button",{staticClass:"add-staff",on:{click:function(e){e.preventDefault(),t.handleFunderClick("add","individual")}}},[a("span",[t._v("+")])]),a("button",{staticClass:"subtract-staff",on:{click:function(e){e.preventDefault(),t.handleFunderClick("subtract","individual")}}},[a("span",[t._v("-")])])])],2)]),a("button",{staticClass:"org-submit",on:{click:function(e){return e.preventDefault(),t.handleSubmit(e)}}},[t._v("Submit")])])},mt=[],pt=(a("xfY5"),a("KKXr"),a("a1Th"),{data:function(){return{institutionalArr:[0],individualArr:[0],staffArr:[0],name:null,about:null,file:null,staff:[{name:null,role:null}],institutional:[{name:null,amount_donated:null}],individual:[{name:null,amount_donated:null}],funder_title:null,funder_text:null,uploadedFilename:"",imageUploaded:!1,imageUrl:null,imagePath:null}},computed:{hideUploadBtn:function(){return!this.file},hideUploaded:function(){return!this.imageUploaded}},methods:{ArrName:function(t,e,a){return"".concat(t,"-").concat(e,"-")+a.toString()},handleStaffClick:function(t){var e={name:null,role:null};"add"===t?(this.staffArr.push(0),this.staff.push(e)):(this.staffArr.pop(),this.staff.pop())},handleFileSelect:function(t){var e=t.target.files[0];this.file=e},handleChange:function(t){var e=t.target.name;this[e]=t.target.value},handleStaffChange:function(t){var e=t.target.name.split("-"),a=e[1],n=parseInt(e[2]),i=t.target.value;this.staff[n][a]=i},handleFunderClick:function(t,e){var a={name:null,amount_donated:null};"add"===t&&"institution"===e?(this.institutionalArr.push(0),this.institutional.push(a)):"subtract"===t&&"institution"===e?(this.institutionalArr.pop(),this.institutional.pop()):"add"===t&&"individual"===e?(this.individualArr.push(0),this.individual.push(a)):"subtract"===t&&"individual"===e&&(this.individualArr.pop(),this.individual.pop())},handleFunderChange:function(t){var e=t.target.name.split("-"),a=e[0],n=e[1],i=parseInt(e[2]),r="name"===n?t.target.value:parseInt(Number(t.target.value.replace(/[^0-9\.-]+/g,"")));this[a][i][n]=r},handleSubmit:function(){console.log(xe);var t={staff:this.staff,name:this.name,about:this.about,imagePath:this.imagePath,imageUrl:this.imageUrl,institutional:this.institutional,individual:this.individual,funderTitle:this.funder_title,funderText:this.funder_text},e=qe.currentUser,a=e.uid;xe.collection("users").doc("".concat(a)).collection("organizations").add({name:t.name,about:t.about,image:t.imageUrl,imagePath:t.imagePath,funders:{text:t.funderText,title_text:t.funderTitle}}).then(function(t){var e=t.id;return t.set({id:e},{merge:!0}),t.collection("staff")}).then(function(e){var a=xe.batch(),n=e.parent;return t.staff.forEach(function(t,n){var i=(+new Date).toString()+"-"+n.toString(),r=e.doc(i),s={name:t.name,role:t.role,index:n,id:i};a.set(r,s)}),t.institutional.forEach(function(t,e){var i=(+new Date).toString()+"-"+e.toString(),r=n.collection("institutional"),s=r.doc(i),o={name:t.name,amount_donated:t.amount_donated,id:i};a.set(s,o)}),t.individual.forEach(function(t,e){var i=(+new Date).toString()+"-"+e.toString(),r=n.collection("individual"),s=r.doc(i),o={name:t.name,amount_donated:t.amount_donated,id:i};a.set(s,o)}),a.commit()}).then(function(){console.log("added to firestore")}).catch(function(t){return console.log(t)})},handleUploadClick:function(t){var e=this,a=Ue.ref(),n=+new Date+"-"+this.file.name,i=qe.currentUser.uid,r="images/"+i+"/"+n;this.imagePath=r;var s={contentType:this.file.type},o=a.child(r).put(this.file,s);o.then(function(t){return t.ref.getDownloadURL()}).then(function(t){e.imageUrl=t,e.imageUploaded=!0,e.uploadedFilename=e.file.name,console.log(e.imageUrl)}).catch(console.error)},handleUploadCancel:function(){var t=this,e=Ue.ref(),a=e.child(this.imagePath);a.delete().then(function(){t.imageUrl=null,t.file=null;var e=document.querySelector("input.image-upload");e.value=null,t.imageUploaded=!1,t.uploadedFilename=null,console.log("image deleted")}).catch(console.error)}}}),gt=pt,ht=(a("KiDX"),Object(p["a"])(gt,dt,mt,!1,null,null,null)),ft=ht.exports,vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"program-form"},[a("h2",[t._v("New Program")]),a("form",{staticClass:"info"},[a("label",{attrs:{for:"title"}},[t._v("Title")]),a("input",{attrs:{type:"text",name:"title"},on:{change:t.handleChange}}),a("label",{attrs:{for:"hide_title"}},[t._v("Hide Title?:")]),a("input",{staticClass:"checkbox",attrs:{type:"checkbox",name:"hide_title",value:"true"},on:{change:t.handleCheckbox}}),a("label",{attrs:{for:"subtitle"}},[t._v("Sub-Title")]),a("input",{attrs:{type:"text",name:"subtitle"},on:{change:t.handleChange}}),a("label",{attrs:{for:"image"}},[t._v("\n            Program Art\n        ")]),t.showImageUpload?a("div",{staticClass:"main-upload-container"},[a("input",{staticClass:"image-upload",attrs:{type:"file",name:"image"},on:{change:t.handleFileSelect}}),t.showMainUploadBtn?a("button",{staticClass:"image-upload-btn",on:{click:function(e){return e.preventDefault(),t.handleUploadClick(e)}}},[t._v("upload")]):t._e()]):t._e(),a("div",{staticClass:"main-image-uploaded-container"},[t.showUploadSuccess?a("span",{staticClass:"uploaded-filename"},[t._v("\n                "+t._s(t.mainUploadedFilename)+"\n            ")]):t._e(),t.showUploadSuccess?a("button",{staticClass:"image-upload-cancel",on:{click:function(e){return e.preventDefault(),t.handleUploadCancel(e)}}},[t._v("x")]):t._e()])]),a("div",{staticClass:"credits-container"},[a("div",{staticClass:"creative"},[a("h3",[t._v("Creative Team")]),t._l(t.creativeArr,function(e,n){return a("credit-form",{key:n,attrs:{index:n,type:"creative"},on:{"credit-change":t.handleCreditChange,"image-upload":t.handleCreditUpload,"image-cancel":t.handleCreditCancel}})}),a("div",{staticClass:"credits-controls"},[a("button",{staticClass:"add-credit",on:{click:function(e){e.preventDefault(),t.handleCreditClick("add","creative")}}},[a("span",[t._v("+")])]),a("button",{staticClass:"subtract-credit",on:{click:function(e){e.preventDefault(),t.handleCreditClick("subtract","creative")}}},[a("span",[t._v("-")])])])],2),a("div",{staticClass:"cast"},[a("h3",[t._v("Cast")]),t._l(t.castArr,function(e,n){return a("credit-form",{key:n,attrs:{index:n,type:"cast"},on:{"credit-change":t.handleCreditChange,"image-upload":t.handleCreditUpload,"image-cancel":t.handleCreditCancel}})}),a("div",{staticClass:"credits-controls"},[a("button",{staticClass:"add-credit",on:{click:function(e){e.preventDefault(),t.handleCreditClick("add","cast")}}},[a("span",[t._v("+")])]),a("button",{staticClass:"subtract-credit",on:{click:function(e){e.preventDefault(),t.handleCreditClick("subtract","cast")}}},[a("span",[t._v("-")])])])],2)]),a("div",{staticClass:"organization"},[a("h4",[t._v("Organization")]),a("div",{staticClass:"org-select-container"},[a("select",{attrs:{name:"organization"},on:{change:t.handleChange}},[a("option",{attrs:{value:"",disabled:"",selected:""}},[t._v("Select Your Organization")]),t._l(t.organizations,function(e,n){return a("option",{key:n,domProps:{value:n}},[t._v(t._s(e.name))])})],2)])]),t.user?a("div",{staticClass:"current-user"}):t._e(),a("button",{staticClass:"program-submit",on:{click:function(e){return e.preventDefault(),t.handleSubmit(e)}}},[t._v("Submit")])])},bt=[],Ct=(a("tUrg"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.className},[a("div",{staticClass:"credit-container"},[a("form",{staticClass:"credit-inputs"},[a("label",{attrs:{for:"name"}},[t._v("\n                Name: \n            ")]),a("input",{attrs:{type:"text",name:"name",placeholder:"Jane Doe"},on:{change:t.handleChange}}),a("label",{attrs:{for:"role"}},[t._v("\n                Role: \n            ")]),a("input",{attrs:{type:"text",name:"role",placeholder:"e.g. Lady MacBeth, Director, Playwright, etc."},on:{change:t.handleChange}}),a("label",{attrs:{for:"credited_role"}},[t._v("\n                Credited Role: \n            ")]),a("input",{attrs:{type:"text",name:"credited_role",placeholder:"e.g. Lady MacBeth, Directed By, Written By, etc."},on:{change:t.handleChange}}),a("label",{staticClass:"bio",attrs:{for:"bio"}},[t._v("\n                Bio:\n            ")]),a("textarea",{attrs:{name:"bio",placeholder:"e.g. Jane Doe is pleased to be making her debut performance of... etc."},on:{change:t.handleChange}}),a("label",{attrs:{for:"featured"}},[t._v("Featured?:")]),a("input",{staticClass:"checkbox",attrs:{type:"checkbox",name:"featured",value:"true"},on:{change:t.handleChange}}),a("label",{attrs:{for:"link"}},[t._v("\n                Link: \n            ")]),a("input",{attrs:{type:"text",name:"link",placeholder:"http://www.someplace.com"},on:{change:t.handleChange}}),a("label",{attrs:{for:"image"}},[t._v("\n                Headshot:\n            ")]),t.showUploadInput?a("div",{staticClass:"image-upload-input-container"},[a("input",{staticClass:"image-upload",attrs:{type:"file",name:"image"},on:{change:t.handleFileSelect}}),t.showUploadBtn?a("button",{staticClass:"image-upload-btn",on:{click:function(e){return e.preventDefault(),t.handleUploadClick(e)}}},[t._v("upload")]):t._e()]):t._e(),a("div",{staticClass:"image-uploaded-container"},[t.imageUploaded?a("span",{staticClass:"uploaded-filename"},[t._v("\n                    "+t._s(t.uploadedFilename)+"\n                ")]):t._e(),t.imageUploaded?a("button",{staticClass:"image-upload-cancel",on:{click:function(e){return e.preventDefault(),t.handleUploadCancel(e)}}},[t._v("x")]):t._e()])])])])}),_t=[],kt={data:function(){return{imagePath:null,file:null,uploadedFilename:null,imageUploaded:!1,showUploadInput:!0}},props:["index","type"],computed:{className:function(){return"credit-form-".concat(this.index)},showUploadBtn:function(){return!!this.file}},watch:{imageUploaded:function(t,e){this.showUploadInput=!t}},methods:{handleChange:function(t){var e=t.target.name,a=t.target.type,n=null;n="checkbox"===a?t.target.checked:"number"===a?parseInt(t.target.value):t.target.value;var i=this.index,r=this.type;this.$emit("credit-change",[r,e,n,i]),console.log("handling change:",n)},handleFileSelect:function(t){var e=t.target.files[0];this.file=e},handleUploadClick:function(t){var e=this,a=Ue.ref(),n=+new Date+"-"+this.file.name,i=qe.currentUser.uid,r="images/"+i+"/"+n;this.imagePath=r;var s={contentType:this.file.type},o=a.child(r).put(this.file,s);o.then(function(t){return t.ref.getDownloadURL()}).then(function(t){e.imageUrl=t,e.imageUploaded=!0,e.uploadedFilename=e.file.name,e.$emit("image-upload",[e.imageUrl,e.index,e.type,e.imagePath])}).catch(console.error)},handleUploadCancel:function(){var t=this,e=Ue.ref(),a=e.child(this.imagePath);a.delete().then(function(){t.file=null;var e=document.querySelector(".credit-form-".concat(t.index," input.image-upload"));e.value=null,t.imageUploaded=!1,t.uploadedFilename=null,t.$emit("image-cancel",[t.type,t.index]),console.log("image deleted")}).catch(console.error)}}},yt=kt,wt=(a("+ZTo"),Object(p["a"])(yt,Ct,_t,!1,null,null,null)),xt=wt.exports,qt={components:{CreditForm:xt},props:["user"],data:function(){return{organizations:[],organization:{},title:null,main_file:null,showImageUpload:!0,mainImageUrl:null,subtitle:null,mainUploadedFilename:null,creativeArr:[0],castArr:[0],hideTitle:null,creative:[{name:null,role:null,credited_role:null,featured:null,bio:null,image:null,link:null}],cast:[{name:null,role:null,credited_role:null,featured:null,bio:null,image:null,link:null}]}},computed:{showMainUploadBtn:function(){return!!this.main_file},showUploadSuccess:function(){return!this.showImageUpload}},firestore:function(){return{organizations:xe.collection("users").doc(this.user.uid.toString()).collection("organizations")}},methods:{handleCheckbox:function(t){var e=t.target.checked;this.hideTitle=e},handleCreditClick:function(t,e){var a={name:null,role:null,credited_role:null,bio:null,link:null,image:null,featured:null};"add"===t&&"creative"===e?(this.creativeArr.push(0),this.creative.push(a)):"subtract"===t&&"creative"===e?(this.creativeArr.pop(),this.creative.pop()):"add"===t&&"cast"===e?(this.castArr.push(0),this.cast.push(a)):"subtract"===t&&"cast"===e&&(this.castArr.pop(),this.creative.pop())},handleChange:function(t){var e=t.target.name,a=t.target.type;"checkbox"===a?t.target.checked:"number"===a?parseInt(t.target.value):t.target.value,this[e]=t.target.value},handleCreditChange:function(t){var e=t[0],a=t[1],n=t[2],i=t[3];this[e][i][a]=n},handleCreditCancel:function(t){var e=t[0],a=t[1];this[e][a]?this[e][a].image=null:console.log("there is no credit at index",a)},handleCreditUpload:function(t){var e=t[0],a=t[1],n=t[2],i=t[3];this[n][a].image=e,this[n][a].imagePath=i,console.log("uploaded image:",e)},handleFileSelect:function(t){var e=t.target.files[0];this.main_file=e},handleUploadClick:function(t){var e=this,a=Ue.ref(),n=+new Date+"-"+this.main_file.name,i=qe.currentUser.uid,r="images/"+i+"/"+n;this.imagePath=r;var s={contentType:this.main_file.type},o=a.child(r).put(this.main_file,s);o.then(function(t){return t.ref.getDownloadURL()}).then(function(t){e.mainImageUrl=t,e.showImageUpload=!1,e.mainUploadedFilename=e.main_file.name,console.log(e.mainImageUrl)}).catch(console.error)},handleSubmit:function(){var t=this,e=new Date,a={uid:qe.currentUser.uid,title:this.title,hide_title:this.hideTitle,subtitle:this.subtitle,image:this.mainImageUrl,creative:this.creative,cast:this.cast,orgId:this.organizations[this.organization].id,created_at:e},n=qe.currentUser,i=n.uid;xe.collection("programs").add({title:a.title,hide_title:a.hide_title,subtitle:a.subtitle,image:a.image,uid:i,org_id:a.orgId,created_at:a.created_at}).then(function(t){var e=t.id;return t.set({id:e},{merge:!0}),t.collection("creative")}).then(function(t){var e=xe.batch(),n=t.parent,i=n.collection("cast");return a.creative.forEach(function(a,n){var i=(+new Date).toString()+"-"+n.toString(),r=t.doc(i),s={name:a.name,role:a.role,credited_role:a.credited_role,featured:a.featured,image:a.image,link:a.link,bio:a.bio,index:n,id:i};e.set(r,s)}),a.cast.forEach(function(t,a){var n=(+new Date).toString()+"-"+a.toString(),r=i.doc(n),s={name:t.name,role:t.role,credited_role:t.credited_role,featured:t.featured,image:t.image,link:t.link,bio:t.bio,index:a,imagePath:t.imagePath};e.set(r,s)}),e.commit()}).then(function(){console.log("added to firestore"),t.$router.go(-1)}).catch(function(t){return console.log(t)})}}},Ut=qt,Ft=(a("JQ6V"),Object(p["a"])(Ut,vt,bt,!1,null,null,null)),St=Ft.exports,Dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"program-edit-view"},[a("display-modal",{attrs:{modalCredit:t.modalCredit,"modal-open":t.modalOpen},on:{modalClose:t.toggleModal}}),a("div",{staticClass:"presenter"},[a("h3",[t._v("Presented by "+t._s(t.organization.name))])]),a("div",{staticClass:"program_edit",on:{mouseenter:t.handleMouseEnter,mouseleave:t.handleMouseLeave}},[a("div",{staticClass:"art"},[a("img",{attrs:{src:t.prodImage}})]),a("div",{staticClass:"title",class:{hide:t.program.hide_title}},[a("h1",[t._v(t._s(t.program.title))]),a("h4",[t._v(t._s(t.program.subtitle))])]),a("button",{staticClass:"edit-btn",class:{show:t.showEditButton.program_edit},on:{click:function(e){return e.preventDefault(),t.handleProgramEdit(e)}}},[a("font-awesome-icon",{attrs:{icon:"edit"}})],1)]),a("div",{staticClass:"featured-creative flex"},t._l(t.featuredCreatives,function(e,n){return a("credit",{key:n,attrs:{credit:e,programId:t.programId,creditType:"creative",type:"credited_role",editing:!0},on:{creditClick:t.handleCreditClick}})})),a("div",{staticClass:"regular-creative flex"},t._l(t.regularCreatives,function(e,n){return a("credit",{key:n,attrs:{credit:e,programId:t.programId,creditType:"creative",type:"credited_role",editing:!0},on:{creditClick:t.handleCreditClick}})})),a("div",{staticClass:"cast"},[t._m(0),a("div",{staticClass:"featured-cast-container flex"},t._l(t.featuredCast,function(e,n){return a("credit",{key:n,attrs:{credit:e,programId:t.programId,creditType:"cast",type:"role",editing:!0},on:{creditClick:t.handleCreditClick}})})),a("div",{staticClass:"regular-cast-container flex"},t._l(t.regularCast,function(e,n){return a("credit",{key:n,attrs:{credit:e,programId:t.programId,creditType:"cast",type:"role",editing:!0},on:{creditClick:t.handleCreditClick}})}))]),a("div",{staticClass:"organization"},[a("div",{staticClass:"org_edit",on:{mouseenter:t.handleMouseEnter,mouseleave:t.handleMouseLeave}},[a("h2",{staticClass:"line"},[t._v("About "+t._s(t.organization.name))]),a("img",{staticClass:"org-image",attrs:{src:t.organization.image,alt:""}}),a("p",{staticClass:"org-about"},[t._v("\n                "+t._s(t.organization.about)+"\n            ")]),a("button",{staticClass:"edit-btn",class:{show:t.showEditButton.org_edit},on:{click:function(e){return e.preventDefault(),t.handleOrgEdit(e)}}},[a("font-awesome-icon",{attrs:{icon:"edit"}})],1)]),a("div",{staticClass:"org-staff"},[a("h4",[t._v("Staff")]),a("div",{staticClass:"org-staff-container flex"},t._l(t.staff,function(t,e){return a("credit",{key:e,attrs:{credit:t,creditType:"staff",editing:!0,type:"role"}})}))]),a("div",{staticClass:"funders"},[a("div",{staticClass:"institutional"},[a("h4",[t._v(t._s(t.organization.funders.title_text)+" ")]),a("ul",{staticClass:"inst-fund-container"},t._l(t.displayInstFunders,function(e,n){return a("li",{key:n},[t._v("\n                        "+t._s(e.name)+" - "),a("span",{staticClass:"donated-amount"},[t._v(t._s(t.parseDonation(e.amount_donated)))])])}))]),a("div",{staticClass:"individual"},[a("ul",{staticClass:"ind-fund-container"},t._l(t.displayIndFunders,function(e,n){return a("li",{key:n},[t._v("\n                        "+t._s(e.name)+" - "),a("span",{staticClass:"donated-amount"},[t._v(t._s(t.parseDonation(e.amount_donated)))])])}))])])]),a("div",{staticClass:"pre-load"},t._l(t.allCredits,function(t,e){return a("img",{key:e,attrs:{src:t.image}})}))],1)},zt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h2",{staticClass:"cast-title"},[a("span",{staticClass:"text line"},[t._v("Featuring")])])}],Ot={components:{Credit:z,DisplayModal:P},props:["user"],data:function(){return{program:{},modalCredit:{},modalOpen:!1,programId:null,creative:[],cast:[],organization:{funders:{text:"",title_text:""}},staff:[],institutional:[],individual:[],showEditButton:{program_edit:null,org_edit:null}}},mounted:function(){this.programId=this.$route.params.id},firestore:function(){return{program:xe.collection("programs").doc(this.$route.params.id),creative:xe.collection("programs").doc(this.$route.params.id).collection("creative"),cast:xe.collection("programs").doc(this.$route.params.id).collection("cast")}},watch:{program:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(e,a){var n,i,r,s,o,l,u,c=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!e.org_id){t.next=25;break}return console.log("program loaded!"),n=e.uid,console.log("created with",n),qe.currentUser.uid!==n?(this.$router.push("/login"),console.log("wrong user!")):console.log("correct user!"),t.next=7,xe.collection("users").doc(n).collection("organizations").doc(e.org_id);case 7:return i=t.sent,t.next=10,i.get();case 10:return r=t.sent,s=r.data(),this.organization=s,t.next=15,i.collection("staff").get();case 15:return o=t.sent,o.forEach(function(t){var e=t.data();c.staff.push(e)}),t.next=19,i.collection("institutional").get();case 19:return l=t.sent,l.forEach(function(t){var e=t.data();c.institutional.push(e)}),t.next=23,i.collection("individual").get();case 23:u=t.sent,u.forEach(function(t){var e=t.data();c.individual.push(e)});case 25:case"end":return t.stop()}},t,this)}));return function(e,a){return t.apply(this,arguments)}}()},computed:{featuredCreatives:function(){if(this.creative.length>0){var t=this.creative.filter(function(t){return!0===t.featured});return t}return this.creative},regularCreatives:function(){if(this.creative.length>0)return this.creative.filter(function(t){return!1===t.featured})},featuredCast:function(){if(this.cast.length>0)return this.cast.filter(function(t){return!0===t.featured})},regularCast:function(){if(this.cast.length>0)return this.cast.filter(function(t){return!1===t.featured})},displayInstFunders:function(){return this.institutional.sort(function(t,e){return t.amount_donated<e.amount_donated?-1:t.amount_donated>e.amount_donated?1:0})},displayIndFunders:function(){return this.individual.sort(function(t,e){return t.amount_donated<e.amount_donated?-1:t.amount_donated>e.amount_donated?1:0})},allCredits:function(){return this.creative.concat(this.cast)},prodImage:function(){return null!==this.program.image?this.program.image:"#"},displayCreditClass:function(t){}},methods:{parseDonation:function(t){return t.toLocaleString()},handleCreditClick:function(t){this.modalCredit=t,console.log(this.modalCredit.name),this.toggleModal()},handleMouseEnter:function(t){var e=t.target.classList[0];this.showEditButton[e]=!0},handleMouseLeave:function(t){var e=t.target.classList[0];this.showEditButton[e]=!1},handleOrgEdit:function(){var t=this.user.uid,e=this.organization.id,a={name:"editOrg",params:{uid:t,id:e}};this.$router.push(a)},handleProgramEdit:function(t){var e={name:"editProgramForm",params:{id:this.$route.params.id}};this.$router.push(e)},toggleModal:function(){this.modalOpen=!this.modalOpen}}},At=Ot,It=(a("EF9F"),Object(p["a"])(At,Dt,zt,!1,null,null,null)),Et=It.exports,Mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"credit-edit-container"},[a("button",{staticClass:"back btn",on:{click:function(e){return e.preventDefault(),t.handleBack(e)}}},[a("font-awesome-icon",{attrs:{icon:"arrow-left"}})],1),a("form",{staticClass:"credit-inputs"},[a("label",{attrs:{for:"name"}},[t._v("\n            Name: \n        ")]),a("input",{attrs:{type:"text",name:"name",placeholder:"Jane Doe"},domProps:{value:t.credit.name},on:{change:t.handleChange}}),a("label",{attrs:{for:"role"}},[t._v("\n            Role: \n        ")]),a("input",{attrs:{type:"text",name:"role",placeholder:"e.g. Lady MacBeth, Director, Playwright, etc."},domProps:{value:t.credit.role},on:{change:t.handleChange}}),a("label",{attrs:{for:"credited_role"}},[t._v("\n            Credited Role: \n        ")]),a("input",{attrs:{type:"text",name:"credited_role",placeholder:"e.g. Lady MacBeth, Directed By, Written By, etc."},domProps:{value:t.credit.credited_role},on:{change:t.handleChange}}),a("label",{staticClass:"bio",attrs:{for:"bio"}},[t._v("\n            Bio:\n        ")]),a("textarea",{attrs:{name:"bio",placeholder:"e.g. Jane Doe is pleased to be making her debut performance of... etc."},domProps:{value:t.credit.bio},on:{change:t.handleChange}}),a("label",{attrs:{for:"featured"}},[t._v("Featured?:")]),a("input",{staticClass:"checkbox",attrs:{type:"checkbox",name:"featured"},domProps:{value:t.credit.featured,checked:t.credit.featured},on:{change:t.handleChange}}),a("label",{attrs:{for:"link"}},[t._v("\n            Link: \n        ")]),a("input",{attrs:{type:"text",name:"link",placeholder:"http://www.someplace.com"},domProps:{value:t.credit.link},on:{change:t.handleChange}}),a("label",{attrs:{for:"image"}},[t._v("\n            Headshot:\n        ")]),t.noImage?a("span",{staticClass:"image-upload-container"},[t.showUploadInput?a("div",{staticClass:"image-upload-input-container"},[a("input",{staticClass:"image-upload",attrs:{type:"file",name:"image"},on:{change:t.handleFileSelect}}),t.showUploadBtn?a("button",{staticClass:"image-upload-btn btn",on:{click:function(e){return e.preventDefault(),t.handleUploadClick(e)}}},[t._v("upload")]):t._e()]):t._e(),a("div",{staticClass:"image-uploaded-container"},[t.imageUploaded?a("span",{staticClass:"uploaded-filename"},[t._v("\n                    "+t._s(t.uploadedFilename)+"\n                ")]):t._e(),t.imageUploaded?a("button",{staticClass:"image-upload-cancel",on:{click:function(e){return e.preventDefault(),t.handleUploadCancel(e)}}},[t._v("x")]):t._e()])]):t._e(),t.credit.image?a("div",{staticClass:"headshot-image",style:t.headshotStyle},[a("button",{staticClass:"image-trash",on:{click:function(e){return e.preventDefault(),t.handleImageDelete(e)}}},[a("font-awesome-icon",{attrs:{icon:"trash-alt"}})],1)]):t._e(),a("button",{staticClass:"save-btn",on:{click:function(e){return e.preventDefault(),t.handleSave(e)}}},[t._v("Save")])])])},Pt=[],Nt={data:function(){return{credit:{name:null,role:null,credited_role:null,bio:null,image:null,link:null,featured:null},imagePath:null,file:null,uploadedFilename:null,imageUploaded:!1,showUploadInput:!0}},props:[],firestore:function(){return{credit:xe.collection("programs").doc(this.$route.params.programId).collection(this.$route.params.creditType).doc(this.$route.params.id)}},computed:{className:function(){return"credit-form-".concat(this.index)},showUploadBtn:function(){return!!this.file},headshotStyle:function(){return{backgroundImage:"url(".concat(this.credit.image,")")}},type:function(){return this.$route.params.creditType},noImage:function(){return!this.credit.image}},watch:{imageUploaded:function(t,e){this.showUploadInput=!t}},methods:{handleBack:function(){this.$router.go(-1)},handleChange:function(t){var e=t.target.name,a=t.target.type,n=null;n="checkbox"===a?t.target.checked:"number"===a?parseInt(t.target.value):t.target.value,this.credit[e]=n,console.log("handling change:",n)},handleFileSelect:function(t){var e=t.target.files[0];this.file=e},handleImageDelete:function(t){var e=this,a=Ue.ref(),n=a.child(this.credit.imagePath);n.delete().then(function(){e.credit.imagePath=null,e.credit.image=null}).catch(console.error);xe.collection("programs").doc(this.$route.params.programId).collection(this.$route.params.crediType).doc(this.route.params.id);var i={image:null,imagePath:null};credRef.set(i,{merge:!0})},handleSave:function(t){var e=xe.collection("programs").doc(this.$route.params.programId).collection(this.$route.params.creditType).doc(this.$route.params.id),a=this.credit;e.set(a),this.$router.go(-1)},handleUploadClick:function(t){var e=this,a=Ue.ref(),n=+new Date+"-"+this.file.name,i=qe.currentUser.uid,r="images/"+i+"/"+n;this.imagePath=r;var s={contentType:this.file.type},o=a.child(r).put(this.file,s);o.then(function(t){return t.ref.getDownloadURL()}).then(function(t){e.imageUrl=t,e.imageUploaded=!0,e.uploadedFilename=e.file.name,e.credit.image=e.imageUrl,e.credit.imagePath=e.imagePath}).catch(console.error)},handleUploadCancel:function(){var t=this,e=Ue.ref(),a=e.child(this.imagePath);a.delete().then(function(){t.file=null;var e=document.querySelector(".credit-form-".concat(t.index," input.image-upload"));e.value=null,t.imageUploaded=!1,t.uploadedFilename=null,t.$emit("image-cancel",[t.type,t.index]),console.log("image deleted")}).catch(console.error)}}},$t=Nt,Tt=(a("hBBT"),Object(p["a"])($t,Mt,Pt,!1,null,null,null)),jt=Tt.exports,Bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"program-form"},[a("button",{staticClass:"back btn",on:{click:function(e){return e.preventDefault(),t.handleBack(e)}}},[a("font-awesome-icon",{attrs:{icon:"arrow-left"}})],1),a("h2",[t._v("Edit Program")]),a("form",{staticClass:"info"},[a("label",{attrs:{for:"title"}},[t._v("Title")]),a("input",{attrs:{type:"text",name:"title"},domProps:{value:t.program.title},on:{change:t.handleChange}}),a("label",{attrs:{for:"hide_title"}},[t._v("Hide Title?:")]),a("input",{staticClass:"checkbox",attrs:{type:"checkbox",name:"hide_title"},domProps:{value:t.program.hide_title},on:{change:t.handleChange}}),a("label",{attrs:{for:"subtitle"}},[t._v("Sub-Title")]),a("input",{attrs:{type:"text",name:"subtitle"},domProps:{value:t.program.subtitle},on:{change:t.handleChange}}),a("label",{staticClass:"art-label",attrs:{for:"image"}},[t._v("\n            Program Art\n        ")]),t.noImage?a("span",[t.showImageUpload?a("div",{staticClass:"main-upload-container"},[a("input",{staticClass:"image-upload",attrs:{type:"file",name:"image"},on:{change:t.handleFileSelect}}),t.showMainUploadBtn?a("button",{staticClass:"image-upload-btn",on:{click:function(e){return e.preventDefault(),t.handleUploadClick(e)}}},[t._v("upload")]):t._e()]):t._e(),a("div",{staticClass:"main-image-uploaded-container"},[t.showUploadSuccess?a("span",{staticClass:"uploaded-filename"},[t._v("\n                    "+t._s(t.mainUploadedFilename)+"\n                ")]):t._e(),t.showUploadSuccess?a("button",{staticClass:"image-upload-cancel",on:{click:function(e){return e.preventDefault(),t.handleUploadCancel(e)}}},[t._v("x")]):t._e()])]):t._e(),t.program.image?a("div",{staticClass:"art-image",style:t.artStyle},[a("button",{staticClass:"image-trash",on:{click:function(e){return e.preventDefault(),t.handleImageDelete(e)}}},[a("font-awesome-icon",{attrs:{icon:"trash-alt"}})],1)]):t._e()]),a("div",{staticClass:"organization"},[a("h4",[t._v("Organization")]),a("div",{staticClass:"org-select-container"},[a("select",{attrs:{name:"organization"},domProps:{value:t.organization},on:{change:t.handleSelectChange}},[a("option",{attrs:{value:"",disabled:"",selected:""}},[t._v("Select Your Organization")]),t._l(t.organizations,function(e,n){return a("option",{key:n,domProps:{value:n}},[t._v(t._s(e.name))])})],2)])]),a("button",{staticClass:"program-submit",on:{click:function(e){return e.preventDefault(),t.handleSubmit(e)}}},[t._v("Save")])])},Lt=[],Rt=(a("INYr"),{components:{},props:["user"],data:function(){return{program:{},organizations:[],organization:null,main_file:null,showImageUpload:!0,mainUploadedFilename:null}},computed:{showMainUploadBtn:function(){return!!this.main_file},showUploadSuccess:function(){return!this.showImageUpload},artStyle:function(){return{backgroundImage:"url(".concat(this.program.image,")")}},noImage:function(){return!this.program.image},storedImagePath:function(){var t=this.program.image,e=t.substring(t.indexOf("images"),t.indexOf("?alt")).trim(),a=e.replace(/%2F/g,"/");return a}},firestore:function(){return{program:xe.collection("programs").doc(this.$route.params.id),organizations:xe.collection("users").doc(this.user.uid.toString()).collection("organizations")}},watch:{program:function(t,e){console.log("created with",a);var a=t.uid;qe.currentUser.uid!==a?(this.$router.push("/login"),console.log("wrong user!")):console.log("correct user!")},organizations:function(t,e){if(this.program.org_id){var a=this.program.org_id,n=t.findIndex(function(t){return t.id===a});this.organization=n}}},methods:{handleBack:function(){this.$router.go(-1)},handleChange:function(t){var e=t.target.name,a=t.target.type,n=null;n="checkbox"===a?!0===t.target.checked:"number"===a?parseInt(t.target.value):t.target.value,this.program[e]=n},handleFileSelect:function(t){var e=t.target.files[0];this.main_file=e},handleImageDelete:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e,a,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.$route.params.id,a=Ue.ref(),n=a.child(this.storedImagePath),t.next=5,n.delete();case 5:return t.sent,this.program.image=null,t.next=9,xe.collection("programs").doc(e).set({image:null},{merge:!0});case 9:t.sent;case 10:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),handleSelectChange:function(t){t.target.name;var e=t.target.value;this[name]=e;var a=this.organizations[e].id;this.program.org_id=a},handleUploadClick:function(t){var e=this,a=Ue.ref(),n=+new Date+"-"+this.main_file.name,i=qe.currentUser.uid,r="images/"+i+"/"+n;this.imagePath=r;var s={contentType:this.main_file.type},o=a.child(r).put(this.main_file,s);o.then(function(t){return t.ref.getDownloadURL()}).then(function(t){e.program.image=t,e.showImageUpload=!1,e.mainUploadedFilename=e.main_file.name,console.log(e.program.image)}).catch(console.error)},handleSubmit:function(){var t=this,e=qe.currentUser,a=(e.uid,this.$route.params.id);xe.collection("programs").doc(a).set(this.program).then(function(){console.log("added to firestore"),t.$router.go(-1)}).catch(function(t){return console.log(t)})}}}),Vt=Rt,Wt=(a("V6Yw"),Object(p["a"])(Vt,Bt,Lt,!1,null,null,null)),Ht=Wt.exports,Jt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"org-form"},[a("button",{staticClass:"back btn",on:{click:function(e){return e.preventDefault(),t.handleBack(e)}}},[a("font-awesome-icon",{attrs:{icon:"arrow-left"}})],1),a("h2",[t._v("Edit Organization")]),a("form",{staticClass:"org"},[a("label",{attrs:{for:"name"}},[t._v("\n            Name:\n        ")]),a("input",{attrs:{type:"text",placeholder:"e.g. Something Productions",name:"name"},domProps:{value:t.organization.name},on:{change:t.handleChange}}),a("label",{staticClass:"about",attrs:{for:"about"}},[t._v("\n            About:\n        ")]),a("textarea",{attrs:{name:"about",placeholder:"e.g. Mission statement, general information, etc."},domProps:{value:t.organization.about},on:{change:t.handleChange}}),a("label",{staticClass:"art-label",attrs:{for:"image"}},[t._v("\n            Logo/Image\n        ")]),t.noImage?a("span",[a("div",{staticClass:"image-upload-input-container",class:{hide:t.imageUploaded}},[a("input",{staticClass:"image-upload",attrs:{type:"file",name:"image"},on:{change:t.handleFileSelect}}),a("button",{staticClass:"image-upload-btn",class:{hide:t.hideUploadBtn},on:{click:function(e){return e.preventDefault(),t.handleUploadClick(e)}}},[t._v("upload")])]),a("div",{staticClass:"image-uploaded-container"},[a("span",{staticClass:"uploaded-filename",class:{hide:t.hideUploaded}},[t._v("\n                    "+t._s(t.uploadedFilename)+"\n                ")]),a("button",{staticClass:"image-upload-cancel",class:{hide:t.hideUploaded},on:{click:function(e){return e.preventDefault(),t.handleUploadCancel(e)}}},[t._v("x")])])]):t._e(),t.organization.image?a("div",{staticClass:"art-image",style:t.imageStyle},[a("button",{staticClass:"image-trash",on:{click:function(e){return e.preventDefault(),t.handleImageDelete(e)}}},[a("font-awesome-icon",{attrs:{icon:"trash-alt"}})],1)]):t._e()]),a("div",{staticClass:"staff-container"},[a("h4",[t._v("Staff")]),t._l(t.staff,function(e,n){return a("form",{key:n,staticClass:"staff"},[a("label",{attrs:{for:t.ArrName("staff","name",n)}},[t._v("\n                Name: \n            ")]),a("input",{attrs:{type:"text",name:t.ArrName("staff","name",n),placeholder:"Jane Doe"},domProps:{value:e.name},on:{change:t.handleStaffChange}}),a("label",{attrs:{for:t.ArrName("staff","role",n)}},[t._v("\n                Role: \n            ")]),a("input",{attrs:{type:"text",name:t.ArrName("staff","role",n),placeholder:"Executive Director"},domProps:{value:e.role},on:{change:t.handleStaffChange}})])}),a("div",{staticClass:"staff-controls"},[a("button",{staticClass:"add-staff",on:{click:function(e){t.handleStaffClick("add")}}},[a("span",[t._v("+")])]),a("button",{staticClass:"subtract-staff",on:{click:function(e){t.handleStaffClick("subtract")}}},[a("span",[t._v("-")])])])],2),a("div",{staticClass:"funder-container"},[a("form",{staticClass:"funder-info"},[a("h4",[t._v("Funders")]),a("label",{staticClass:"funder_title",attrs:{for:"funder_title"}},[t._v("Title text")]),a("input",{attrs:{type:"text",name:"funder_title",placeholder:"Thank you to these donors"},domProps:{value:t.organization.funders.title_text},on:{change:t.handleChange}}),a("label",{staticClass:"funder_text",attrs:{for:"funderText"}},[t._v("Funder Text")]),a("textarea",{attrs:{name:"funder_text",placeholder:"e.g. We would like to thank the following donors..."},domProps:{value:t.organization.funders.text},on:{change:t.handleChange}})]),a("div",{staticClass:"institutional"},[a("h5",[t._v("Institutional funders:")]),t._l(t.institutional,function(e,n){return a("form",{key:n,staticClass:"funders"},[a("label",{attrs:{for:t.ArrName("institutional","name",n)}},[t._v("\n                    Name: \n                ")]),a("input",{attrs:{type:"text",name:t.ArrName("institutional","name",n),placeholder:"Doe Family Fund"},domProps:{value:e.name},on:{change:t.handleFunderChange}}),a("label",{attrs:{for:t.ArrName("institutional","amount_donated",n)}},[t._v("\n                    Funding Level (no symbols e.g. $): \n                ")]),a("input",{attrs:{type:"number",name:t.ArrName("institutional","amount_donated",n),placeholder:"e.g. 100"},domProps:{value:e.amount_donated},on:{change:t.handleFunderChange}})])}),a("div",{staticClass:"funder-controls"},[a("button",{staticClass:"add-staff",on:{click:function(e){e.preventDefault(),t.handleFunderClick("add","institution")}}},[a("span",[t._v("+")])]),a("button",{staticClass:"subtract-staff",on:{click:function(e){e.preventDefault(),t.handleFunderClick("subtract","institution")}}},[a("span",[t._v("-")])])])],2),a("div",{staticClass:"individual"},[a("h5",[t._v("Individual funders:")]),t._l(t.individual,function(e,n){return a("form",{key:n,staticClass:"funders"},[a("label",{attrs:{for:t.ArrName("individual","name",n)}},[t._v("\n                    Name: \n                ")]),a("input",{attrs:{type:"text",name:t.ArrName("individual","name",n),placeholder:"Doe Family Fund"},domProps:{value:e.name},on:{change:t.handleFunderChange}}),a("label",{attrs:{for:t.ArrName("individual","amount_donated",n)}},[t._v("\n                    Amount Donated: \n                ")]),a("input",{attrs:{type:"number",name:t.ArrName("individual","amount_donated",n),placeholder:"e.g. 100"},domProps:{value:e.amount_donated},on:{change:t.handleFunderChange}})])}),a("div",{staticClass:"funder-controls"},[a("button",{staticClass:"add-staff",on:{click:function(e){e.preventDefault(),t.handleFunderClick("add","individual")}}},[a("span",[t._v("+")])]),a("button",{staticClass:"subtract-staff",on:{click:function(e){e.preventDefault(),t.handleFunderClick("subtract","individual")}}},[a("span",[t._v("-")])])])],2)]),a("button",{staticClass:"org-submit",on:{click:function(e){return e.preventDefault(),t.handleSubmit(e)}}},[t._v("Save")])])},Kt=[],Xt={data:function(){return{file:null,staff:[{name:null,role:null}],institutional:[{name:null,amount_donated:null}],individual:[{name:null,amount_donated:null}],organization:{funders:{text:null,title_text:null}},uploadedFilename:"",imageUploaded:!1}},props:["user"],firestore:function(){return{organization:xe.collection("users").doc(this.$route.params.uid).collection("organizations").doc(this.$route.params.id),institutional:xe.collection("users").doc(this.$route.params.uid).collection("organizations").doc(this.$route.params.id).collection("institutional"),individual:xe.collection("users").doc(this.$route.params.uid).collection("organizations").doc(this.$route.params.id).collection("individual"),staff:xe.collection("users").doc(this.$route.params.uid).collection("organizations").doc(this.$route.params.id).collection("staff")}},computed:{hideUploadBtn:function(){return!this.file},hideUploaded:function(){return!this.imageUploaded},noImage:function(){return!this.organization.image},imageStyle:function(){return{backgroundImage:"url(".concat(this.organization.image,")")}}},methods:{ArrName:function(t,e,a){return"".concat(t,"-").concat(e,"-")+a.toString()},handleBack:function(){this.$router.go(-1)},handleStaffClick:function(t){var e={name:null,role:null};"add"===t?this.staff.push(e):this.staff.pop()},handleFileSelect:function(t){var e=t.target.files[0];this.file=e},handleChange:function(t){var e=t.target.name;this.organization[e]=t.target.value},handleStaffChange:function(t){var e=t.target.name.split("-"),a=e[1],n=parseInt(e[2]),i=t.target.value;this.staff[n][a]=i},handleFunderClick:function(t,e){var a={name:null,amount_donated:null,id:null};"add"===t&&"institution"===e?this.institutional.push(a):"subtract"===t&&"institution"===e?this.institutional.pop():"add"===t&&"individual"===e?this.individual.push(a):"subtract"===t&&"individual"===e&&this.individual.pop()},handleFunderChange:function(t){var e=t.target.name.split("-"),a=e[0],n=e[1],i=parseInt(e[2]),r="name"===n?t.target.value:parseInt(Number(t.target.value.replace(/[^0-9\.-]+/g,"")));this[a][i][n]=r},handleSubmit:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e,a,n,i,r,s,o,l=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.$route.params.uid,a=this.$route.params.id,n=xe.collection("users").doc(e).collection("organizations").doc(a),i=n.collection("staff"),r=n.collection("institutional"),s=n.collection("individual"),o=xe.batch(),o.set(n,this.organization),this.staff.forEach(function(t,e){var a=null;t.id?a=t.id:(a=(+new Date).toString()+"-"+e.toString(),t.id=a);var n=i.doc(a);t.name&&t.role&&o.set(n,t)}),this.institutional.forEach(function(t,e){var a=null;t.id?a=t.id:(a=(+new Date).toString()+"-"+e.toString(),t.id=a);var n=r.doc(a);t.name&&t.amount_donated&&o.set(n,t)}),this.individual.forEach(function(t,e){var a=null;t.id?a=t.id:(a=(+new Date).toString()+"-"+e.toString(),t.id=a);var n=s.doc(a);t.name&&t.amount_donated&&o.set(n,t)}),t.abrupt("return",o.commit().then(function(){console.log("added to firestore"),l.$router.go(-1)}));case 12:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),handleUploadClick:function(t){var e=this,a=Ue.ref(),n=+new Date+"-"+this.file.name,i=qe.currentUser.uid,r="images/"+i+"/"+n;this.organization.imagePath=r;var s={contentType:this.file.type},o=a.child(r).put(this.file,s);o.then(function(t){return t.ref.getDownloadURL()}).then(function(t){e.organization.image=t,e.imageUploaded=!0,e.uploadedFilename=e.file.name,console.log(e.organization.image)}).catch(console.error)},handleUploadCancel:function(){var t=this,e=Ue.ref(),a=e.child(this.imagePath);a.delete().then(function(){t.imageUrl=null,t.file=null;var e=document.querySelector("input.image-upload");e.value=null,t.imageUploaded=!1,t.uploadedFilename=null,console.log("image deleted")}).catch(console.error)}}},Yt=Xt,Qt=(a("3Nvx"),Object(p["a"])(Yt,Jt,Kt,!1,null,null,null)),Gt=Qt.exports;function Zt(t,e,a){u.a.auth().currentUser?(console.log("User is logged in:",u.a.auth().currentUser.uid),a()):(console.log("User is not logged in"),a({path:"/login",query:{redirect:t.fullPath}}))}n["a"].use(i["a"]);var te=new i["a"]({routes:[{path:"/",name:"home",component:k},{path:"/login",name:"login",component:h},{path:"/test",name:"program-test",component:j},{path:"/dashboard",name:"dashboard",component:ct,beforeEnter:Zt},{path:"/organizations/new",name:"newOrganizations",component:ft,beforeEnter:Zt},{path:"/programs/new",name:"newPrograms",component:St,beforeEnter:Zt},{path:"/programs/:id/",name:"viewProgram",component:H},{path:"/programs/:id/edit",name:"editProgram",component:Et,beforeEnter:Zt},{path:"/programs/:id/edit/form",name:"editProgramForm",component:Ht,beforeEnter:Zt},{path:"/programs/:programId/:creditType/:id/edit",name:"editCredit",component:jt,beforeEnter:Zt,props:!0},{path:"/users/:uid/organizations/:id/edit",name:"editOrg",component:Gt,beforeEnter:Zt}]}),ee=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("Nav",{attrs:{user:t.user}}),a("div",{staticClass:"router-view-wrapper",class:{home:t.home}},[a("router-view",{attrs:{user:t.user}})],1)],1)},ae=[],ne=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"nav-wrapper"},[a("div",{staticClass:"nav"},[a("div",{staticClass:"logo-container",on:{click:t.handleHomeClick}},[a("div",{staticClass:"logo"},[a("svg",{attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"463.515px",height:"409.2px",viewBox:"0 0 463.515 409.2","enable-background":"new 0 0 463.515 409.2","xml:space":"preserve"}},[a("g",{attrs:{id:"Layer_1",display:"none"}},[a("path",{attrs:{display:"inline",fill:"#AF1212",d:"M276.604,94.361v-40.67c0-5.877-4.767-10.64-10.64-10.64\n                            c-5.878,0-10.64,4.762-10.64,10.64v20.084c-2.344-1.214-4.735-2.32-7.15-3.319V19.647c0-5.877-4.767-10.64-10.64-10.64\n                            c-5.878,0-10.641,4.762-10.641,10.64v44.446c-2.414-0.488-4.803-0.9-7.159-1.25V11.136C219.739,5.262,214.977,0.5,209.1,0.5\n                            c-5.874,0-10.641,4.762-10.641,10.636V61.07c-2.554-0.054-4.919-0.049-7.061-0.009V30.283c0-5.878-4.758-10.636-10.631-10.636\n                            c-5.878,0-10.64,4.758-10.64,10.636v67.531l-7.069,7.07L142.15,83.98c-4.153-4.158-10.892-4.158-15.044,0\n                            c-4.153,4.153-4.153,10.891,0,15.044l28.421,28.421c0.005,0.004,0.009,0.004,0.009,0.009c0,0,0,0.004,0.009,0.004l14.623,14.623\n                            c-2.325,85.989-72.992,155.232-159.528,155.232c-5.878,0-10.64,4.762-10.64,10.64s4.762,10.636,10.64,10.636\n                            c99.72,0,180.853-81.128,180.853-180.854c0-2.822-1.12-5.524-3.114-7.522l-10.281-10.281l6.617-6.617\n                            c7.987,1.205,25.263,5.439,33.774,20.008c1.976,3.387,5.537,5.277,9.197,5.277c1.819,0,3.665-0.47,5.354-1.456\n                            c5.076-2.966,6.783-9.479,3.826-14.551c-11.85-20.272-32.856-27.297-45.463-29.725V82.354c5.26-0.107,12.302,0.009,20.106,0.86\n                            c13.346,1.469,31.271,5.448,43.818,15.859v38.658c0,134.919-109.765,244.684-244.684,244.684c-5.877,0-10.64,4.763-10.64,10.64\n                            c0,5.878,4.758,10.645,10.636,10.645c146.648,0,265.963-119.315,265.963-265.964V94.361L276.604,94.361z"}}),a("g",{attrs:{display:"inline"}},[a("path",{attrs:{fill:"#FFFFFF",stroke:"#AF1212","stroke-width":"5","stroke-miterlimit":"10",d:"M269.521,132.1\n                                c0,112,81.133,189.489,180.854,189.489c5.878,0,10.641-4.758,10.641-10.636s-4.763-10.64-10.641-10.64\n                                c-86.536,0-158.664-61.214-158.664-163.06"}}),a("path",{attrs:{fill:"#FFFFFF",stroke:"#AF1212","stroke-width":"5","stroke-miterlimit":"10",d:"M184.409,132.736\n                                c0,146.648,119.316,273.964,265.965,273.964c5.878,0,10.636-4.767,10.636-10.645c0-5.877-4.763-10.64-10.64-10.64\n                                c-134.92,0-244.685-117.765-244.685-252.684"}}),a("path",{attrs:{fill:"#FFFFFF",stroke:"#AF1212","stroke-width":"5","stroke-miterlimit":"10",d:"M291.648,139.736V96.361l0,0v-40.67\n                                c0-5.877-4.768-10.64-10.641-10.64c-5.877,0-10.64,4.762-10.64,10.64v20.084c-2.344-1.214-4.735-2.32-7.15-3.319V21.647\n                                c0-5.877-4.767-10.64-10.64-10.64c-5.878,0-10.641,4.762-10.641,10.64v44.446c-2.414-0.488-4.803-0.9-7.159-1.25V13.136\n                                C234.783,7.262,230.021,2.5,224.144,2.5c-5.874,0-10.641,4.762-10.641,10.636V63.07c-2.554-0.054-4.919-0.049-7.061-0.009V32.283\n                                c0-5.878-4.758-10.636-10.631-10.636c-5.878,0-10.64,4.758-10.64,10.636v67.531l-7.069,7.07L157.194,85.98\n                                c-4.153-4.158-10.892-4.158-15.044,0c-4.153,4.153-4.153,10.891,0,15.044l28.421,28.421c0.005,0.004,0.009,0.004,0.009,0.009\n                                c0,0,0,0.004,0.009,0.004l14.623,10.623"}})]),a("line",{attrs:{display:"inline",fill:"none",stroke:"#AF1212","stroke-width":"5","stroke-miterlimit":"10",x1:"203.105",y1:"139.6",x2:"272.105",y2:"139.6"}})]),a("g",{attrs:{id:"Layer_2"}},[a("path",{attrs:{d:"M54.703,359.902c25.401,25.4,58.948,39.298,94.413,39.298c31.153,0,60.387-10.542,84.349-29.712\n                            c23.964,19.17,53.197,29.712,84.351,29.712c35.944,0,69.491-13.897,94.411-39.298c24.923-25.4,38.821-58.948,38.821-94.893\n                            s-13.898-69.492-39.3-94.414l0,0l-43.134-43.134l0,0l0,0c-7.668-7.668-17.731-10.543-27.795-9.584\n                            c0.958-10.064-1.916-20.129-9.584-27.798l0,0c-6.231-6.23-14.859-10.064-23.485-9.585c-1.438,0-2.875,0-3.833,0.48\n                            c0-1.437,0.479-2.875,0.479-3.834c0-9.105-3.355-17.254-9.587-23.484l0,0l0,0c-7.668-7.668-17.73-10.543-27.794-9.584\n                            c0-1.438,0.479-2.875,0.479-3.834c0-9.105-3.356-17.254-10.064-23.963l0,0c-12.939-12.939-34.507-12.939-47.446,0L54.703,171.554\n                            l0,0c-25.4,25.401-39.299,58.95-39.299,94.414C15.403,300.954,29.302,334.501,54.703,359.902z M401.684,180.659\n                            c22.525,22.526,34.986,52.717,34.986,84.35c0,32.109-12.461,61.824-34.986,84.348c-22.524,22.526-52.717,34.986-84.348,34.986\n                            c-26.839,0-52.239-9.105-73.326-25.4c6.231-5.751,81.953-81.474,94.894-94.413c9.104-9.106,8.145-22.047-2.398-32.59l0,0\n                            c-3.833-3.834-9.105-7.188-15.336-9.585l47.445-47.447c5.272-5.271,8.149-11.502,9.105-17.731L401.684,180.659L401.684,180.659z\n                            M64.767,180.659L64.767,180.659l154.8-154.799c7.668-7.668,19.65-7.668,27.318,0l0,0c3.833,3.834,5.75,8.625,5.75,13.418\n                            c0,5.271-1.917,10.064-5.75,13.42l-76.681,76.68c-2.877,2.875-2.877,7.187,0,10.064c2.875,2.875,7.188,2.875,10.065,0\n                            l76.679-76.681c7.668-7.668,19.65-7.668,27.318,0l0,0l0,0c3.835,3.834,5.752,8.625,5.752,13.418c0,5.271-1.917,10.064-5.752,13.42\n                            l-76.681,76.68c-2.875,2.875-2.875,7.189,0,10.065c2.876,2.875,7.19,2.875,10.065,0l76.68-76.68\n                            c3.835-3.834,8.629-5.752,13.42-5.752c5.272,0,10.065,1.918,13.419,5.752l0,0c7.668,7.668,7.668,19.648,0,27.317l0,0l0,0\n                            l-76.68,76.68c-2.877,2.875-2.877,7.189,0,10.064c2.875,2.876,7.188,2.876,10.063,0l76.683-76.681\n                            c7.668-7.668,19.647-7.668,27.315,0l0,0c7.668,7.668,7.668,19.648,0,27.316L228.192,294.722c-2.874,2.875-2.874,7.189,0,10.065\n                            c2.875,2.875,7.189,2.875,10.066,0l71.889-71.411c6.707,1.438,12.459,4.795,16.294,8.629l0,0c3.356,3.354,6.23,8.146,2.396,11.979\n                            c-13.419,13.899-95.372,95.853-95.372,95.853c-22.524,22.524-52.718,34.986-84.349,34.986c-32.11,0-61.823-12.462-84.349-34.986\n                            c-22.525-22.525-34.984-52.719-34.984-84.349C29.782,233.376,42.241,203.185,64.767,180.659z"}})])])]),t._m(0)]),a("div",{staticClass:"router-links"},t._l(t.links,function(e,n){return a("router-link",{key:n,staticClass:"router-link",attrs:{tag:"a",to:e.path}},[a("a",[t._v(t._s(e.title))])])})),a("button",{staticClass:"menu-btn",class:{menuOpen:t.menuOpen},on:{click:t.handleMenuClick}},[a("div",{staticClass:"menu-top"}),a("div",{staticClass:"menu-mid"}),a("div",{staticClass:"menu-btm"})])]),a("Menu",{attrs:{links:t.links,menuOpen:t.menuOpen}})],1)},ie=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"logo-text"},[a("span",[t._v("Applaudable")])])}],re=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"menu",class:{open:t.menuOpen}},[t._l(t.links,function(e,n){return a("router-link",{key:n,staticClass:"router-link",attrs:{tag:"a",to:e.path}},[a("a",[t._v(t._s(e.title))])])}),a("div",{staticClass:"router-link sign-out",on:{click:t.signOut}},[a("a",[t._v("Sign Out")])])],2)},se=[],oe={props:["links","menuOpen"],methods:{signOut:function(){qe.signOut().then(function(){console.log("signed out")}).catch(function(t){throw t})}}},le=oe,ue=(a("lWMw"),Object(p["a"])(le,re,se,!1,null,null,null)),ce=ue.exports,de={components:{Menu:ce},data:function(){return{menuOpen:!1,links:[{title:"Home",path:"/"},{title:"Sign in",path:"/login"}]}},computed:{getLink:function(t){return t},background:function(){return a("Meg4")("./"+this.id+".svg")}},methods:{handleMenuClick:function(){this.menuOpen=!this.menuOpen},handleHomeClick:function(){var t={name:"home"};this.$router.push(t)}}},me=de,pe=(a("zk4L"),Object(p["a"])(me,ne,ie,!1,null,null,null)),ge=pe.exports,he={name:"app",components:{Nav:ge},props:["user"],computed:{home:function(){return"home"===this.$route.name}}},fe=he,ve=(a("nNx0"),Object(p["a"])(fe,ee,ae,!1,null,null,null)),be=ve.exports,Ce=a("D/Jt"),_e=(a("5x/H"),a("WI49"),a("7O5W")),ke=a("wHSu"),ye=(a("twK/"),a("elWB"));a.d(e,"db",function(){return xe}),a.d(e,"auth",function(){return qe}),a.d(e,"storage",function(){return Ue}),_e["library"].add(ke["c"],ke["k"],ke["a"],ke["e"],ke["d"],ke["g"],ke["f"],ke["h"],ke["j"],ke["l"],ke["i"],ke["b"]),n["a"].component("font-awesome-icon",ye["FontAwesomeIcon"]),n["a"].config.productionTip=!1,n["a"].use(Ce["a"]),u.a.initializeApp({apiKey:"AIzaSyAxEOUFCIpVbh-Wevcm2WNeV0u5hOdjhWU",authDomain:"applaudable-4d7ad.firebaseapp.com",databaseURL:"https://applaudable-4d7ad.firebaseio.com",projectId:"applaudable-4d7ad",storageBucket:"applaudable-4d7ad.appspot.com",messagingSenderId:"552130165183"});var we={timestampsInSnapshots:!0},xe=u.a.firestore(),qe=u.a.auth(),Ue=u.a.storage();xe.settings(we),new n["a"]({router:te,beforeCreate:function(){u.a.auth().onAuthStateChanged(function(t){t&&(this.user=t)}.bind(this))},data:{user:{}},render:function(t){return t("App",{props:{user:this.user}})},components:{App:be}}).$mount("#app")},WWHb:function(t,e,a){"use strict";var n=a("A2P3"),i=a.n(n);i.a},X1dE:function(t,e,a){"use strict";var n=a("Kq0t"),i=a.n(n);i.a},XVHl:function(t,e,a){t.exports=a.p+"img/applaudable_type.9c4e4c2d.svg"},Xj7e:function(t,e,a){},biB1:function(t,e,a){},d2EG:function(t,e,a){},ehxN:function(t,e,a){},ex1n:function(t,e,a){},hBBT:function(t,e,a){"use strict";var n=a("5Fzi"),i=a.n(n);i.a},jKQn:function(t,e,a){},janC:function(t,e,a){"use strict";var n=a("C2vA"),i=a.n(n);i.a},kuN2:function(t,e,a){},lWMw:function(t,e,a){"use strict";var n=a("0OYW"),i=a.n(n);i.a},nNx0:function(t,e,a){"use strict";var n=a("uWEC"),i=a.n(n);i.a},"tr/0":function(t,e,a){"use strict";var n=a("Xj7e"),i=a.n(n);i.a},u0jo:function(t,e,a){},uWEC:function(t,e,a){},wi7W:function(t,e,a){"use strict";var n=a("009G"),i=a.n(n);i.a},zk4L:function(t,e,a){"use strict";var n=a("kuN2"),i=a.n(n);i.a}});
//# sourceMappingURL=app.1b612ead.js.map